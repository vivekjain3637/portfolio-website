(self.webpackChunkportfolio_website=self.webpackChunkportfolio_website||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>Xe,tb:()=>lu,AFp:()=>ou,ip1:()=>ru,CZH:()=>iu,hGG:()=>rc,z2F:()=>Ku,sBO:()=>ha,Sil:()=>_u,_Vd:()=>Ls,EJc:()=>du,SBq:()=>js,qLn:()=>mr,vpe:()=>qa,gxx:()=>to,tBr:()=>_n,XFs:()=>k,OlP:()=>Ye,zs3:()=>mo,ZZ4:()=>ia,aQg:()=>sa,soG:()=>fu,YKP:()=>_a,v3s:()=>Wu,h0i:()=>wa,PXZ:()=>Gu,R0b:()=>Eu,FiY:()=>Tn,Lbi:()=>cu,g9A:()=>uu,Qsj:()=>Gs,FYo:()=>qs,JOm:()=>br,Tiy:()=>Hs,q3G:()=>cr,tp0:()=>Sn,EAV:()=>Yu,Rgc:()=>ma,dDg:()=>Nu,DyG:()=>tn,GfV:()=>zs,s_b:()=>Sa,ifc:()=>L,eFA:()=>Bu,G48:()=>Vu,f3M:()=>vn,X6Q:()=>ju,_c5:()=>ec,VLi:()=>Pu,c2e:()=>hu,zSh:()=>no,wAp:()=>_s,vHH:()=>m,EiD:()=>ar,mCW:()=>Hn,qzn:()=>Rn,JVY:()=>Ln,pB0:()=>jn,eBb:()=>Mn,L6k:()=>Fn,LAX:()=>Un,cg1:()=>vs,Tjo:()=>tc,kL8:()=>bs,yhl:()=>Pn,dqk:()=>V,sIi:()=>Io,CqO:()=>Vo,QGY:()=>Uo,F4k:()=>jo,RDi:()=>Et,AaK:()=>l,z3N:()=>Dn,qOj:()=>vo,TTD:()=>vt,_Bn:()=>Ds,xp6:()=>si,uIk:()=>ko,Gre:()=>ds,ekj:()=>ts,Suo:()=>tu,Xpm:()=>J,lG2:()=>it,Yz7:()=>w,cJS:()=>_,oAB:()=>et,Yjl:()=>ot,Y36:()=>Do,_UZ:()=>Mo,qZA:()=>Fo,TgZ:()=>Lo,n5z:()=>Ke,Ikx:()=>ps,LFG:()=>yn,$8M:()=>We,NdJ:()=>qo,CRH:()=>eu,oxw:()=>Ho,Hsn:()=>Ko,F$t:()=>Zo,Q6J:()=>Ro,DdM:()=>Ua,VKq:()=>ja,iGM:()=>Xa,LSH:()=>lr,kYT:()=>nt,YNc:()=>No,_uU:()=>ls,Oqu:()=>hs,hij:()=>fs});var r=n(5959),i=n(7570),o=n(8318),s=n(1906),a=n(1055);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return S(t,I)||S(t,x)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(A))?t[C]:null}const I=u({"\u0275prov":u}),C=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),A=u({ngInjectorDef:u});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let O;function N(t){const e=O;return O=t,e}function D(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function R(t){return{toString:t}.toString()}var P=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,V=F||j||M||U,q={},G=[],B=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),z=u({"\u0275pipe":u}),Z=u({"\u0275mod":u}),K=u({"\u0275loc":u}),$=u({"\u0275fac":u}),W=u({__NG_ELEMENT_ID__:u});let Q=0;function J(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Q++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Y):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(X):null,n})}function Y(t){return st(t)||function(t){return t[H]||null}(t)}function X(t){return function(t){return t[z]||null}(t)}const tt={};function et(t){return R(()=>{const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tt[t.id]=t.type),e})}function nt(t,e){return R(()=>{const n=at(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function rt(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const it=J;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[B]||null}function at(t,e){const n=t[Z]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ut=20,ct=10;function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty($)?t[$]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),wt}function wt(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new yt(u&&u.currentValue,e,s===q),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}let St;function Et(t){St=t}function It(t){return!!t.listen}vt.ngInherit=!0;const Ct={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return xt(e[t])}function kt(t,e){return xt(e[t.index])}function Ot(t,e){return t.data[e]}function Nt(t,e){const n=e[t];return lt(n)?n:n[0]}function Dt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Pt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Mt={lFrame:oe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Mt.bindingsEnabled}function jt(){return Mt.lFrame.lView}function Vt(){return Mt.lFrame.tView}function qt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Mt.lFrame.currentTNode}function Bt(t,e){const n=Mt.lFrame;n.currentTNode=t,n.isParent=e}function Ht(){return Mt.lFrame.isParent}function zt(){Mt.lFrame.isParent=!1}function Zt(){return Mt.isInCheckNoChangesMode}function Kt(t){Mt.isInCheckNoChangesMode=t}function $t(){const t=Mt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Wt(){return Mt.lFrame.bindingIndex++}function Qt(t){const e=Mt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Jt(t,e){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yt(e)}function Yt(t){Mt.lFrame.currentDirectiveIndex=t}function Xt(){return Mt.lFrame.currentQueryIndex}function te(t){Mt.lFrame.currentQueryIndex=t}function ee(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ne(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ee(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Mt.lFrame=ie();return r.currentTNode=e,r.lView=t,!0}function re(t){const e=ie(),n=t[1];Mt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ie(){const t=Mt.lFrame,e=null===t?null:t.child;return null===e?oe(t):e}function oe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function se(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ae=se;function ue(){const t=se();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ce(){return Mt.lFrame.selectedIndex}function le(t){Mt.lFrame.selectedIndex=t}function he(){const t=Mt.lFrame;return Ot(t.tView,t.selectedIndex)}function fe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function de(t,e,n){me(t,e,3,n)}function pe(t,e,n,r){(3&t[2])===n&&me(t,e,n,r)}function ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function me(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ve=-1;class be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Te(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function _e(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Se(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ee(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ee(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ie(t){return t!==ve}function Ce(t){return 32767&t}function xe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ae=!0;function ke(t){const e=Ae;return Ae=t,e}let Oe=0;function Ne(t,e){const n=Re(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,De(r.data,t),De(e,null),De(r.blueprint,null));const i=Pe(t,e),o=t.injectorIndex;if(Ie(i)){const t=Ce(i),n=xe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function De(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Re(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Pe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ve}function Le(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Oe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Fe(t,e,n){if(n&k.Optional)return t;b(e,"NodeInjector")}function Me(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&k.Optional):D(e,r,n&k.Optional)}finally{N(o)}}return Fe(r,e,n)}function Ue(t,e,n,r=k.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:Ve:e}(n);if("function"==typeof o){if(!ne(e,t,r))return r&k.Host?Fe(i,n,r):Me(e,n,r,i);try{const t=o(r);if(null!=t||r&k.Optional)return t;b(n)}finally{ae()}}else if("number"==typeof o){let i=null,s=Re(t,e),a=ve,u=r&k.Host?e[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?Pe(t,e):e[s+8],a!==ve&&ze(r,!1)?(i=e[1],s=Ce(a),e=xe(a,e)):s=-1);-1!==s;){const t=e[1];if(He(o,s,t.data)){const t=qe(s,e,n,i,r,u);if(t!==je)return t}a=e[s+8],a!==ve&&ze(r,e[1].data[s+8]===u)&&He(o,s,e)?(i=t,s=Ce(a),e=xe(a,e)):s=-1}}}return Me(e,n,r,i)}const je={};function Ve(){return new Ze(qt(),jt())}function qe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ge(a,s,n,null==r?dt(a)&&Ae:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==u?Be(e,s,u,a):je}function Ge(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}function Be(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof be){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=ke(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;ne(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),ke(a),s.resolving=!1,ae()}}return i}function He(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ze(t,e){return!(t&k.Self||t&k.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ue(this._tNode,this._lView,t,void 0,e)}}function Ke(t){return R(()=>{const e=t.prototype.constructor,n=e[$]||$e(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||$e(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function $e(t){return g(t)?()=>{const e=$e(p(t));return e&&e()}:mt(t)}function We(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(_e(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(qt(),t)}const Qe="__parameters__";function Je(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Qe)?t[Qe]:Object.defineProperty(t,Qe,{value:[]})[Qe];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xe=new Ye("AnalyzeForEntryComponents"),tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function on(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function an(t,e,n){let r=cn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function un(t,e){const n=cn(t,e);if(n>=0)return t[1|n]}function cn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const ln={},hn=/\n/gm,fn="__source",dn=u({provide:String,useValue:u});let pn;function gn(t){const e=pn;return pn=t,e}function mn(t,e=k.Default){if(void 0===pn)throw new Error("inject() must be called from an injection context");return null===pn?D(t,void 0,e):pn.get(t,e&k.Optional?null:void 0,e)}function yn(t,e=k.Default){return(O||mn)(p(t),e)}const vn=yn;function bn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(yn(t,n))}else e.push(yn(r))}return e}function wn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const _n=wn(Je("Inject",t=>({token:t})),-1),Tn=wn(Je("Optional"),8),Sn=wn(Je("SkipSelf"),4);let En;function In(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,V.trustedTypes))try{En=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class Cn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xn extends Cn{getTypeName(){return"HTML"}}class An extends Cn{getTypeName(){return"Style"}}class kn extends Cn{getTypeName(){return"Script"}}class On extends Cn{getTypeName(){return"URL"}}class Nn extends Cn{getTypeName(){return"ResourceURL"}}function Dn(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){const n=Pn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Pn(t){return t instanceof Cn&&t.getTypeName()||null}function Ln(t){return new xn(t)}function Fn(t){return new An(t)}function Mn(t){return new kn(t)}function Un(t){return new On(t)}function jn(t){return new Nn(t)}class Vn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Gn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hn(t){return(t=String(t)).match(Gn)||t.match(Bn)?t:"unsafe:"+t}function zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=zn("area,br,col,hr,img,wbr"),$n=zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wn=zn("rp,rt"),Qn=Zn(Wn,$n),Jn=Zn(Kn,Zn($n,zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(Wn,zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qn),Yn=zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xn=zn("srcset"),tr=Zn(Yn,Xn,zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=zn("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!tr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Yn[o]&&(s=Hn(s)),Xn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Hn(t.trim())).join(", ")),this.buf.push(" ",e,'="',or(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(rr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ir,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sr;function ar(t,e){let n=null;try{sr=sr||function(t){const e=new qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new Vn(e):e}(t);let r=e?String(e):"";n=sr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=sr.getInertBodyElement(r)}while(r!==o);return In((new nr).sanitizeChildren(ur(n)||n))}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=function(){const t=jt();return t&&t[12]}();return e?e.sanitize(cr.URL,t)||"":Rn(t,"URL")?Dn(t):Hn(y(t))}function hr(t,e){t.__ngContext__=e}function fr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function dr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function gr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||gr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?dr(t)?dr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function vr(t){return t instanceof Function?t():t}var br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function wr(t,e){return(void 0)(t,e)}function _r(t){const e=t[3];return ht(e)?e[3]:e}function Tr(t){return Er(t[13])}function Sr(t){return Er(t[4])}function Er(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Ir(t,e,n,r,i){if(null!=r){let o,s=!1;ht(r)?o=r:lt(r)&&(s=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?Rr(e,n,a):Dr(e,n,a,i||null,!0):1===t&&null!==n?Dr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Lr(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==xt(n)&&Ir(e,t,r,o,i);for(let s=ct;s<n.length;s++){const i=n[s];Br(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Cr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Ar(t,e){if(t.length<=ct)return;const n=ct+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&xr(o,r),e>0&&(t[n-1][4]=r[4]);const s=on(t,ct+e);Br(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function kr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Or(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&Or(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&Or(e[1],e),n=e&&e[4]}e=n}}(e)}}function Or(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof be)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):xt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&xr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Nr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return kt(r,n)}(t,e.parent,n)}function Dr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Rr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function Pr(t,e,n,r,i){null!==r?Dr(t,e,n,r,i):Rr(t,e,n)}function Lr(t,e){return It(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n){return Mr(t,e,n)}let Mr=function(t,e,n){return 40&t.type?kt(t,n):null};function Ur(t,e,n,r){const i=Nr(t,r,e),o=e[11],s=Fr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Pr(o,i,n[a],s,!1);else Pr(o,i,n,s,!1)}function jr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return jr(t,n);{const n=t[e.index];return ht(n)?qr(-1,n):xt(n)}}if(32&n)return wr(e,t)()||xt(t[e.index]);{const n=Vr(t,e);return null!==n?Array.isArray(n)?n[0]:jr(_r(t[16]),n):jr(t,e.next)}}return null}function Vr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function qr(t,e){const n=ct+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return jr(t,r)}return e[7]}function Gr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&hr(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Gr(t,e,n.child,r,i,o,!1),Ir(e,t,i,a,o);else if(32&u){const s=wr(n,r);let u;for(;u=s();)Ir(e,t,i,u,o);Ir(e,t,i,a,o)}else 16&u?Hr(t,e,r,n,i,o):Ir(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Br(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function Hr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ir(e,t,i,a[u],o);else Gr(t,e,a,s[3],i,o,!0)}function zr(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Kr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const $r="ng-template";function Wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Kr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&t.value!==$r}function Jr(t,e,n){return e===(4!==t.type||n?t.value:$r)}function Yr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(_e(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Jr(t,u,n)||""===u&&1===e.length){if(Xr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Wr(t.attrs,c,n)){if(Xr(r))return!1;s=!0}continue}const l=ti(8&r?"class":u,i,Qr(t),n);if(-1===l){if(Xr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Kr(e,c,0)||2&r&&c!==t){if(Xr(r))return!1;s=!0}}}}else{if(!s&&!Xr(r)&&!Xr(u))return!1;if(s&&Xr(u))continue;s=!1,r=u|1&r}}return Xr(r)||s}function Xr(t){return 0==(1&t)}function ti(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ei(t,e,n=!1){for(let r=0;r<e.length;r++)if(Yr(t,e[r],n))return!0;return!1}function ni(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ri(t,e){return t?":not("+e.trim()+")":e}function ii(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Xr(s)||(e+=ri(o,i),i=""),r=s,o=o||!Xr(r);n++}return""!==i&&(e+=ri(o,i)),e}const oi={};function si(t){ai(Vt(),jt(),ce()+t,Zt())}function ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&de(e,r,n)}else{const r=t.preOrderHooks;null!==r&&pe(e,r,0,n)}le(n)}function ui(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function hi(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];te(i),n.contentQueries(2,e[o],o)}}}function gi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Gt(),s=Ht(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Mt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Mt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Bt(o,!0),o}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){re(e);try{const r=t.viewQuery;null!==r&&Ki(1,r,n);const i=t.template;null!==i&&_i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&Ki(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ue()}}function bi(t,e,n,r){const i=e[2];if(256==(256&i))return;re(e);const o=Zt();try{Lt(e),Mt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&_i(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&de(e,n,null)}else{const n=t.preOrderHooks;null!==n&&pe(e,n,0,null),ge(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Sr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Sr(e))for(let t=ct;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&de(e,n)}else{const n=t.contentHooks;null!==n&&pe(e,n,1),ge(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)le(~r);else{const i=r,o=n[++t],s=n[++t];Jt(o,i),s(2,e[i])}}}finally{le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Vi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ki(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&de(e,n)}else{const n=t.viewHooks;null!==n&&pe(e,n,2),ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{ue()}}function wi(t,e,n,r){const i=e[10],o=!Zt(),s=Dt(e);try{o&&!s&&i.begin&&i.begin(),s&&vi(t,e,r),bi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function _i(t,e,n,r,i){const o=ce(),s=2&r;try{le(-1),s&&e.length>ut&&ai(t,e,ut,Zt()),n(r,i)}finally{le(o)}}function Ti(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ne(n,e),hr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&Fi(e,n,r);const u=Be(e,t,a,n);hr(u,e),null!==s&&Mi(0,a-i,u,r,0,s),o&&(Nt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Mt.lFrame.currentDirectiveIndex;try{le(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Yt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ni(r,i)}}finally{le(-1),Yt(s)}}(t,e,n))}function Si(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ii(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ii(t,e,n,r,i,o,s,a,u,c){const l=ut+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ci(t,e,n,r){const i=Wi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Qi(t).push(r,i.length-1))}function xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,o,s,a){const u=kt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Yi(t,n,c,r,i),dt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,It(o)?o.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ki(t,e,n,r){let i=!1;if(Ut()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ei(n,s.selectors,!1)&&(i||(i=[]),Le(Ne(n,e),t,s.type),gt(s)?(Di(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=yi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Se(n.mergedAttrs,c.hostAttrs),Li(t,n,e,u,c),Ri(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Qr(e)?null:Ui(n,i);o.push(c),s=xi(n,u,s),a=xi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Se(n.mergedAttrs,n.attrs),i}function Oi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Di(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ri(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Li(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=mt(i.type)),s=new be(o,gt(i),null);t.blueprint[r]=s,n[r]=s,Oi(t,e,0,r,yi(t,n,i.hostVars,oi),i)}function Fi(t,e,n){const r=kt(e,t),i=Ei(n),o=t[10],s=Bi(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Mi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ui(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Vi(t,e){const n=Nt(e,t);if(Rt(n)){const t=n[1];80&n[2]?bi(t,n,t.template,n[8]):n[5]>0&&qi(n)}}function qi(t){for(let n=Tr(t);null!==n;n=Sr(n))for(let t=ct;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];bi(t,e,t.template,e[8])}else e[5]>0&&qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Rt(r)&&r[5]>0&&qi(r)}}function Gi(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),vi(r,n,n[8])}function Bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Hi(t){for(;t;){t[2]|=64;const e=_r(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function zi(t,e,n){const r=e[10];r.begin&&r.begin();try{bi(t,e,t.template,n)}catch(i){throw Ji(e,i),i}finally{r.end&&r.end()}}function Zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=fr(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function Ki(t,e,n){te(0),e(t,n)}const $i=(()=>Promise.resolve(null))();function Wi(t){return t[7]||(t[7]=[])}function Qi(t){return t.cleanup||(t.cleanup=[])}function Ji(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Yi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Xi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const to=new Ye("INJECTOR",-1);class eo{get(t,e=ln){if(e===ln){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const no=new Ye("Set Injector scope."),ro={},io={};let oo;function so(){return void 0===oo&&(oo=new eo),oo}function ao(t,e=null,n=null,r){return new uo(t,n,e||so(),r)}class uo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(to,ho(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ln,n=k.Default){this.assertNotDestroyed();const r=gn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ye)&&T(t);e=n&&this.injectableDefInScope(n)?ho(co(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?so():this.parent).get(t,e=n&k.Optional&&e===ln?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[fn]&&i.unshift(e[fn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{gn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||G))}}this.injectorDefTypes.add(o);const a=mt(o)||(()=>new o);this.records.set(o,ho(a,ro));const u=r.providers;if(null!=u&&!s){const e=t;nn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=po(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return fo(t)?ho(void 0,t.useValue):ho(lo(t),ro)}(t);if(po(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ho(void 0,ro,!0),e.factory=()=>bn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function co(t){const e=T(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof Ye)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=sn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function lo(t,e,n){let r;if(po(t)){const e=p(t);return mt(e)||co(e)}if(fo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...bn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>yn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||co(e);r=()=>new e(...bn(t.deps))}var i;return r}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fo(t){return null!==t&&"object"==typeof t&&dn in t}function po(t){return"function"==typeof t}const go=function(t,e,n){return function(t,e=null,n=null,r){const i=ao(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=ln,t.NULL=new eo,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>yn(to)}),t.__NG_ELEMENT_ID__=-1,t})();function yo(t,e){fe(fr(t)[1],qt())}function vo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=bo(t.inputs),e.declaredInputs=bo(t.declaredInputs),e.outputs=bo(t.outputs);const n=i.hostBindings;n&&To(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&wo(t,o),s&&_o(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===vo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Se(i.hostAttrs,n=Se(n,i.hostAttrs))}}(r)}function bo(t){return t===q?{}:t===G?[]:t}function wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function _o(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function To(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let So=null;function Eo(){if(!So){const t=V.Symbol;if(t&&t.iterator)So=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(So=n)}}}return So}function Io(t){return!!Co(t)&&(Array.isArray(t)||!(t instanceof Map)&&Eo()in t)}function Co(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xo(t,e,n){return t[e]=n}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ko(t,e,n,r){const i=jt();return Ao(i,Wt(),e)&&(Vt(),function(t,e,n,r,i,o){const s=kt(t,e);!function(t,e,n,r,i,o,s){if(null==o)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(he(),i,t,e,n,r)),ko}function Oo(t,e,n,r){return Ao(t,Wt(),n)?e+y(n)+r:oi}function No(t,e,n,r,i,o,s,a){const u=jt(),c=Vt(),l=t+ut,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=mi(e,t,4,s||null,Pt(c,a));ki(e,n,l,Pt(c,u)),fe(e,l);const h=l.tViews=Ii(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Bt(h,!1);const f=u[11].createComment("");Ur(c,u,f,h),hr(f,u),Bi(u,u[l]=ji(f,u,f,h)),pt(h)&&Ti(c,u,h),null!=s&&Si(u,h,a)}function Do(t,e=k.Default){const n=jt();return null===n?yn(t,e):Ue(qt(),n,p(t),e)}function Ro(t,e,n){const r=jt();return Ao(r,Wt(),e)&&Ai(Vt(),he(),r,t,e,r[11],n,!1),Ro}function Po(t,e,n,r,i){const o=i?"class":"style";Yi(t,n,e.inputs[o],o,r)}function Lo(t,e,n,r){const i=jt(),o=Vt(),s=ut+t,a=i[11],u=i[s]=Cr(a,e,Mt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=mi(e,t,2,i,Pt(a,o));return ki(e,n,u,Pt(a,s)),null!==u.attrs&&Xi(u,u.attrs,!1),null!==u.mergedAttrs&&Xi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Bt(c,!0);const l=c.mergedAttrs;null!==l&&we(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const f=c.styles;null!==f&&zr(a,u,f),64!=(64&c.flags)&&Ur(o,i,u,c),0===Mt.lFrame.elementDepthCount&&hr(u,i),Mt.lFrame.elementDepthCount++,pt(c)&&(Ti(o,i,c),function(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Si(i,c)}function Fo(){let t=qt();Ht()?zt():(t=t.parent,Bt(t,!1));const e=t;Mt.lFrame.elementDepthCount--;const n=Vt();n.firstCreatePass&&(fe(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Po(n,e,jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Po(n,e,jt(),e.stylesWithoutHost,!1)}function Mo(t,e,n,r){Lo(t,e,n,r),Fo()}function Uo(t){return!!t&&"function"==typeof t.then}function jo(t){return!!t&&"function"==typeof t.subscribe}const Vo=jo;function qo(t,e,n,r){const i=jt(),o=Vt(),s=qt();return function(t,e,n,r,i,o,s,a){const u=pt(r),c=t.firstCreatePass&&Qi(t),l=Wi(e);let h=!0;if(3&r.type||a){const f=kt(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(xt(t[r.index])):r.index;if(It(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Bo(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=Bo(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Bo(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),qo}function Go(t,e,n,r){try{return!1!==n(r)}catch(i){return Ji(t,i),!1}}function Bo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&Hi(s);let a=Go(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Go(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ho(t=1){return function(t){return(Mt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Mt.lFrame.contextLView))[8]}(t)}function zo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ei(t,o,!0):ni(r,o))return i}else n=i}return n}function Zo(t){const e=jt()[16][6];if(!e.projection){const n=e.projection=sn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?zo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ko(t,e=0,n){const r=jt(),i=Vt(),o=mi(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),zt(),64!=(64&o.flags)&&function(t,e,n){Hr(e[11],0,e,n,Nr(t,n,e),Fr(n.parent||e[6],n,e))}(i,r,o)}function $o(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):hi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Wo(t[a],e)&&(u=!0,t[a+1]=r?di(n):li(n)),a=r?ci(n):hi(n)}u&&(t[n+1]=r?li(o):di(o))}function Wo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&cn(t,e)>=0}const Qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jo(t){return t.substring(Qo.key,Qo.keyEnd)}function Yo(t,e){const n=Qo.textEnd;return n===e?-1:(e=Qo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Qo.key=e,n),Xo(t,e,n))}function Xo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ts(t,e){return function(t,e,n,r){const i=jt(),o=Vt(),s=Qt(2);o.firstUpdatePass&&rs(o,t,s,true),e!==oi&&Ao(i,s,e)&&ss(o,o.data[ce()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=l(Dn(t))),t}(e),true,s)}(t,e),ts}function es(t,e){for(let n=function(t){return function(t){Qo.key=0,Qo.keyEnd=0,Qo.value=0,Qo.valueEnd=0,Qo.textEnd=t.length}(t),Yo(t,Xo(t,0,Qo.textEnd))}(e);n>=0;n=Yo(e,n))an(t,Jo(e),!0)}function ns(t,e){return e>=t.expandoStartIndex}function rs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ce()],s=ns(t,n);cs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Mt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=os(n=is(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=is(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==hi(r))return t[ci(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=is(null,t,e,n[1],r),n=os(n,e.attrs,r),function(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=os(r,t[o].hostAttrs,n);return os(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ci(s),u=hi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||cn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ci(t[a+1]);t[r+1]=ui(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ui(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=ui(u,0),0===a?a=r:t[u+1]=fi(t[u+1],r),u=r;l&&(t[r+1]=li(t[r+1])),$o(t,c,r,!0),$o(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&cn(o,e)>=0&&(n[r+1]=di(n[r+1]))}(e,c,t,r,o),s=ui(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function is(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=os(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function os(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),an(t,s,!!n||e[++o]))}return void 0===t?null:t}function ss(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];us(1==(1&c)?as(u,e,n,i,hi(c),s):void 0)||(us(o)||2==(2&c)&&(o=as(u,null,n,i,a,s)),function(t,e,n,r,i){const o=It(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:br.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=br.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,At(ce(),n),i,o))}function as(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?G:void 0);let h=c?un(l,r):u===r?l:void 0;if(o&&!us(h)&&(h=un(e,r)),us(h)&&(a=h,s))return a;const f=t[i+1];i=s?ci(f):hi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=un(t,r))}return a}function us(t){return void 0!==t}function cs(t,e){return 0!=(t.flags&(e?16:32))}function ls(t,e=""){const n=jt(),r=Vt(),i=t+ut,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return It(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ur(r,n,s,o),Bt(o,!1)}function hs(t){return fs("",t,""),hs}function fs(t,e,n){const r=jt(),i=Oo(r,t,e,n);return i!==oi&&function(t,e,n){const r=At(e,t);!function(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ce(),i),fs}function ds(t,e,n){!function(t,e,n,r){const i=Vt(),o=Qt(2);i.firstUpdatePass&&rs(i,null,o,r);const s=jt();if(n!==oi&&Ao(s,o,n)){const a=i.data[ce()];if(cs(a,r)&&!ns(i,o)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),Po(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===oi&&(i=G);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d,p=null;l===h?(u+=2,c+=2,s!==f&&(p=h,d=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,d=f),null!==p&&ss(t,e,n,r,p,d,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return G;const r=[],i=Dn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(an,es,Oo(jt(),t,e,n),!0)}function ps(t,e,n){const r=jt();return Ao(r,Wt(),e)&&Ai(Vt(),he(),r,t,e,r[11],n,!0),ps}const gs=void 0;var ms=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ys={};function vs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ws(e);if(n)return n;const r=e.split("-")[0];if(n=ws(r),n)return n;if("en"===r)return ms;throw new Error(`Missing locale data for the locale "${t}".`)}function bs(t){return vs(t)[_s.PluralCase]}function ws(t){return t in ys||(ys[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),ys[t]}var _s=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ts="en-US";let Ss=Ts;function Es(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ss=t.toLowerCase().replace(/_/g,"-"))}function Is(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Is(t[o],e,n,r,i);else{const o=Vt(),s=jt();let a=po(t)?t:p(t.provide),u=lo(t);const c=qt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(po(t)||!t.multi){const r=new be(u,i,Do),d=As(a,e,i?l:l+f,h);-1===d?(Le(Ne(c,s),o,a),Cs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=As(a,e,l+f,h),p=As(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){Le(Ne(c,s),o,a);const l=function(t,e,n,r,i){const o=new be(t,n,Do);return o.multi=[],o.index=e,o.componentProviders=0,xs(o,i,r&&!n),o}(i?Os:ks,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Cs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Cs(o,t,d>-1?d:p,xs(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Cs(t,e,n,r){const i=po(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function xs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function As(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ks(t,e,n,r){return Ns(this.multi,[])}function Os(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Be(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ns(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ns(i,o);return o}function Ns(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ds(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Vt();if(r.firstCreatePass){const i=gt(t);Is(n,r.data,r.blueprint,i,!0),Is(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Rs{}class Ps{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ls=(()=>{class t{}return t.NULL=new Ps,t})();function Fs(...t){}function Ms(t,e){return new js(kt(t,e))}const Us=function(){return Ms(qt(),jt())};let js=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Us,t})();function Vs(t){return t instanceof js?t.nativeElement:t}class qs{}let Gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Bs(),t})();const Bs=function(){const t=jt(),e=Nt(qt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let Hs=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class zs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Zs=new zs("12.0.5");class Ks{constructor(){}supports(t){return Io(t)}create(t){return new Ws(t)}}const $s=(t,e)=>e;class Ws{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$s}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Xs(n,r,i)?e:n,s=Xs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Eo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Qs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ys),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ys),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Qs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Js{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ys{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Js,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ta{constructor(){}supports(t){return t instanceof Map||Co(t)}create(){return new ea}}class ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Co(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new na(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class na{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ra(){return new ia([new Ks])}let ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ra()),deps:[[t,new Sn,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:ra}),t})();function oa(){return new sa([new ta])}let sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||oa()),deps:[[t,new Sn,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:oa}),t})();function aa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(xt(o)),ht(o))for(let t=ct;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&aa(e[1],e,n,r)}const s=n.type;if(8&s)aa(t,e,n.child,r);else if(32&s){const t=wr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Vr(e,n);if(Array.isArray(t))r.push(...t);else{const n=_r(e[16]);aa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ua{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return aa(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ar(t,n),on(e,n))}this._attachedToViewContainer=!1}kr(this._lView[1],this._lView)}onDestroy(t){Ci(this._lView[1],this._lView,null,t)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Kt(!0);try{zi(t,e,n)}finally{Kt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ca extends ua{constructor(t){super(t),this._view=t}detectChanges(){Zi(this._view)}checkNoChanges(){!function(t){Kt(!0);try{Zi(t)}finally{Kt(!1)}}(this._view)}get context(){return null}}const la=function(t){return function(t,e,n){if(dt(t)&&!n){const n=Nt(t.index,e);return new ua(n,n)}return 47&t.type?new ua(e[16],e):null}(qt(),jt(),16==(16&t))};let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=la,t})();const fa=[new ta],da=new ia([new Ks]),pa=new sa(fa),ga=function(){return ba(qt(),jt())};let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=ga,t})();const ya=ma,va=class extends ya{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new ua(n)}};function ba(t,e){return 4&t.type?new va(e,t,Ms(t,e)):null}class wa{}class _a{}const Ta=function(){return Aa(qt(),jt())};let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ta,t})();const Ea=Sa,Ia=class extends Ea{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ms(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Pe(this._hostTNode,this._hostLView);if(Ie(t)){const e=xe(t,this._hostLView),n=Ce(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ca(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(wa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ia(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ct+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ct?(e[4]=n[i],rn(n,ct+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=qr(i,o),a=n[11],u=Lr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Br(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),rn(xa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ca(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);n&&(on(xa(this._lContainer),e),kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);return n&&null!=on(xa(this._lContainer),e)?new ua(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ca(t){return t[8]}function xa(t){return t[8]||(t[8]=[])}function Aa(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Dr(n,Lr(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ji(r,e,i,t),Bi(e,n)}return new Ia(n,t,e)}const ka={};class Oa extends Ls{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=st(t);return new Ra(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Da=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class Ra extends Rs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ka,i);return o!==ka||r===ka?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(qs,Ct),s=i.get(Hs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Cr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:$i,playerHandler:null,flags:0},f=Ii(0,null,null,1,0,null,null,null,null,null),d=gi(null,f,h,l,null,null,o,a,s,i);let p,g;re(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=mi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Xi(a,u,!0),null!==t&&(we(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&zr(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,Ei(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Le(Ne(a,n),s,e.type),Di(s,a),Pi(a,n.length,1)),Bi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)we(a,c,["ng-version",Zs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Xr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=Ot(f,ut),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(t,r,e,yi(t,e,1,null),n));const i=Be(e,t,r.directiveStart,r);hr(i,e);const o=kt(r,e);return o&&hr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=qt();e.contentQueries(1,s,t.directiveStart)}const a=qt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(le(a.index),Oi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ni(e,s)),s}(t,this.componentDef,d,h,[yo]),vi(f,d,null)}finally{ue()}return new Pa(this.componentType,p,Ms(g,d),d,g)}}class Pa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ca(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const La=new Map;class Fa extends wa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Oa(this);const n=at(t),r=t[K]||null;r&&Es(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=ao(t,e,[{provide:wa,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=k.Default){return t===mo||t===wa||t===to?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ma extends _a{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,La.get(i),n),La.set(i,n));const o=vr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Fa(this.moduleType,t)}}function Ua(t,e,n){const r=$t()+t,i=jt();return i[r]===oi?xo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function ja(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Ao(t,s,i)?xo(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===oi?void 0:n}(t,s+1)}(jt(),$t(),t,e,n,r)}function Va(t){return e=>{setTimeout(t,void 0,e)}}const qa=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Va(u),a&&(a=Va(a)),c&&(c=Va(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Ga(){return this._results[Eo()]()}class Ba{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Eo(),n=Ba.prototype;n[e]||(n[e]=Ga)}get changes(){return this._changes||(this._changes=new qa)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=en(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ha{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ha(this.queryList)}setDirty(){this.queryList.setDirty()}}class za{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new za(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nu(t,e).matches&&this.queries[e].setDirty()}}class Za{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ka{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ka(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class $a{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new $a(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Wa(e,i)),this.matchTNodeWithReadOption(t,e,Ge(e,t,i,!1,!1))}else n===ma?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ge(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===js||r===Sa||r===ma&&4&e.type)this.addMatch(e.index,-2);else{const n=Ge(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Wa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Qa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ms(t,e):4&t.type?ba(t,e):null}(e,t):-2===n?function(t,e,n){return n===js?Ms(e,t):n===ma?ba(e,t):n===Sa?Aa(e,t):void 0}(t,e,r):Be(t,t[1],n,e)}function Ja(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Qa(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ya(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ja(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ct;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ya(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ya(n[1],n,i,r)}}}}}return r}function Xa(t){const e=jt(),n=Vt(),r=Xt();te(r+1);const i=nu(n,r);if(t.dirty&&Dt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ya(n,e,r,[]):Ja(n,e,i,r);t.reset(o,Vs),t.notifyOnChanges()}return!0}return!1}function tu(t,e,n,r){const i=Vt();if(i.firstCreatePass){const o=qt();(function(t,e,n){null===t.queries&&(t.queries=new Ka),t.queries.track(new $a(e,n))})(i,new Za(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Ba(4==(4&n));Ci(t,e,r,r.destroy),null===e[19]&&(e[19]=new za),e[19].queries.push(new Ha(r))}(i,jt(),n)}function eu(){return t=jt(),e=Xt(),t[19].queries[e].queryList;var t,e}function nu(t,e){return t.queries.getByIndex(e)}const ru=new Ye("Application Initializer");let iu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Fs,this.reject=Fs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Uo(e))t.push(e);else if(Vo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(yn(ru,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const ou=new Ye("AppId"),su={provide:ou,useFactory:function(){return`${au()}${au()}${au()}`},deps:[]};function au(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uu=new Ye("Platform Initializer"),cu=new Ye("Platform ID"),lu=new Ye("appBootstrapListener");let hu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const fu=new Ye("LocaleId"),du=new Ye("DefaultCurrencyCode");class pu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const gu=function(t){return new Ma(t)},mu=gu,yu=function(t){return Promise.resolve(gu(t))},vu=function(t){const e=gu(t),n=vr(at(t).declarations).reduce((t,e)=>{const n=st(e);return n&&t.push(new Ra(n)),t},[]);return new pu(e,n)},bu=vu,wu=function(t){return Promise.resolve(vu(t))};let _u=(()=>{class t{constructor(){this.compileModuleSync=mu,this.compileModuleAsync=yu,this.compileModuleAndAllComponentsSync=bu,this.compileModuleAndAllComponentsAsync=wu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Tu=(()=>Promise.resolve(0))();function Su(t){"undefined"==typeof Zone?Tu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Eu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qa(!1),this.onMicrotaskEmpty=new qa(!1),this.onStable=new qa(!1),this.onError=new qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xu(t),t.isCheckStableRunning=!0,Cu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Au(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ku(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Au(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ku(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,xu(t),Cu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Iu,Fs,Fs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Iu={};function Cu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Au(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ku(t){t._nesting--,Cu(t)}class Ou{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qa,this.onMicrotaskEmpty=new qa,this.onStable=new qa,this.onError=new qa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Nu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eu.assertNotInAngularZone(),Su(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Su(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(yn(Eu))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Du=(()=>{class t{constructor(){this._applications=new Map,Fu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Fu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Ru{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Pu(t){Fu=t}let Lu,Fu=new Ru,Mu=!0,Uu=!1;function ju(){return Uu=!0,Mu}function Vu(){if(Uu)throw new Error("Cannot enable prod mode after platform setup.");Mu=!1}const qu=new Ye("AllowMultipleToken");class Gu{constructor(t,e){this.name=t,this.token=e}}function Bu(t,e,n=[]){const r=`Platform: ${e}`,i=new Ye(r);return(e=[])=>{let o=Hu();if(!o||o.injector.get(qu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(Lu&&!Lu.destroyed&&!Lu.injector.get(qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Lu=t.get(zu);const e=t.get(uu,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=Hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Hu(){return Lu&&!Lu.destroyed?Lu:null}let zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ou:("zone.js"===t?void 0:t)||new Eu({enableLongStackTrace:ju(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Eu,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{$u(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Uo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(iu);return t.runInitializers(),t.donePromise.then(()=>(Es(i.injector.get(fu,Ts)||Ts),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Zu({},e);return function(t,e,n){const r=new Ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(yn(mo))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Zu(t,e){return Array.isArray(e)?e.reduce(Zu,t):Object.assign(Object.assign({},t),e)}let Ku=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Eu.assertNotInAngularZone(),Su(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Rs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(wa),i=n.create(mo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Nu,null),a=s&&i.injector.get(Du);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),$u(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;$u(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(yn(Eu),yn(mo),yn(mr),yn(Ls),yn(iu))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function $u(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Wu{}class Qu{}const Ju={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Yu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ju}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Xu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Xu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(yn(_u),yn(Qu,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Xu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const tc=function(t){return null},ec=Bu(null,"core",[{provide:cu,useValue:"unknown"},{provide:zu,deps:[mo]},{provide:Du,deps:[]},{provide:hu,deps:[]}]),nc=[{provide:Ku,useClass:Ku,deps:[Eu,mo,mr,Ls,iu]},{provide:Da,deps:[Eu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:iu,useClass:iu,deps:[[new Tn,ru]]},{provide:_u,useClass:_u,deps:[]},su,{provide:ia,useFactory:function(){return da},deps:[]},{provide:sa,useFactory:function(){return pa},deps:[]},{provide:fu,useFactory:function(t){return Es(t=t||"undefined"!=typeof $localize&&$localize.locale||Ts),t},deps:[[new _n(fu),new Tn,new Sn]]},{provide:du,useValue:"USD"}];let rc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(yn(Ku))},t.\u0275mod=et({type:t}),t.\u0275inj=_({providers:nc}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{xv:()=>b,Dh:()=>v,HU:()=>d,GT:()=>y,sI:()=>S,on:()=>w,ss:()=>p,pX:()=>m,yq:()=>_});var r=n(8489),i=n(8569),o=n(6599),s=n(4187),a=n(9971),u=n(5366),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&T("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}new u.GfV("6.1.5");const _=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map),new u.FiY},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.6.7",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.26",void 0),t.registerVersion("fire-js","")}(w);const _=w},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(a,s),a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.has(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>f,Am:()=>d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>T,Sg:()=>u,ne:()=>S,p$:()=>o,ZB:()=>s,m9:()=>C,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}function C(t){return t&&t._delegate?t._delegate:t}},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(1062),i="8.6.7";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),o=n(7498),s=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(1484),i=n(4294);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),o=n(7570),s=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),o=n(7570),s=n(5331),a=n(1484),u=n(4294);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),o=n(6015);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),o=n(7570),s=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(8318);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),o=n(7570),s=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(8318),i=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(6163),i=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},1225:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(8318);function i(t,e){return new r.y(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(3982),i=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9971:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>u});var r=n(6673),i=n(653),o=n(878),s=n(1225);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2875),i=n(1564),o=n(5959);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},4187:(t,e,n)=>{"use strict";n.d(e,{R:()=>m});var r=n(8318);let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class f extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n(8470);class g extends r.y{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,p.k)(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(6673);function i(){}var o=n(5024);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(8318),i=n(7570);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(8277);const i=new(n(1098).v)(r.o),o=i},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),o=n(5686),s=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},6491:(t,e,n)=>{"use strict";var r=n(5366);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l((0,r.LFG)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(s).location;return new b((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function S(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.kL8;class C{}let x=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Ev){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new O(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new O(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class O{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let P=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:C,useClass:x}]}),t})();function F(t){return"server"===t}let M=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new U((0,r.LFG)(s),window)}),t})();class U{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=j(this.window.history)||j(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(Ev){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ev){return!1}}}function j(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new V,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(G=G||document.querySelector("base"),G?G.getAttribute("href"):null);return null==e?null:function(t){q=q||document.createElement("a"),q.setAttribute("href",t);const e=q.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,G=null;const B=new r.OlP("TRANSITION_ID"),H=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[B,s,r.zs3],multi:!0}];class z{static init(){(0,r.VLi)(new z)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Z=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const K=new r.OlP("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(K),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),J=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Y),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Y))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Y(t){o().remove(t)}const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=/%COMP%/g;function et(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?et(t,i,n):(i=i.replace(tt,t),n.push(i))}return n}function nt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new it(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ot(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=et(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($),r.LFG(J),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nt(n)):this.eventManager.addEventListener(t,e,nt(n))}}class ot extends it{constructor(t,e,n,r){super(t),this.component=n;const i=et(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(tt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(tt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends it{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=et(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let at=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ut=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ht={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ft=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ut.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&lt.hasOwnProperty(e)&&(e=lt[e]))}return ct[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ut.forEach(r=>{r!=n&&(0,ht[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const dt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){V.makeCurrent(),z.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),pt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:K,useClass:at,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:K,useClass:ft,multi:!0,deps:[s]},[],{provide:rt,useClass:rt,deps:[$,J,r.AFp]},{provide:r.FYo,useExisting:rt},{provide:Q,useExisting:J},{provide:J,useClass:J,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:$,useClass:$,deps:[K,r.R0b]},{provide:class{},useClass:Z,deps:[]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:B,useExisting:r.AFp},H]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:pt,imports:[L,r.hGG]}),t})();"undefined"!=typeof window&&window;var mt=n(9764),yt=n(878),vt=n(5959),bt=n(3895);class wt extends vt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bt.N;return this._value}next(t){super.next(this._value=t)}}var _t=n(6163),Tt=n(8470),St=n(6673);class Et extends St.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class It extends St.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ct=n(6015),xt=n(8318);function At(t,e,n,r,i=new It(t,n,r)){if(!i.closed)return e instanceof xt.y?e.subscribe(i):(0,Ct.s)(e)(i)}var kt=n(9342);const Ot={};class Nt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Dt(t,this.resultSelector))}}class Dt extends Et{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ot),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(At(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ot?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Rt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pt=n(7471);function Lt(...t){return(0,Pt.J)(1)((0,yt.of)(...t))}var Ft=n(653);function Mt(t){return new xt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,mt.D)(n):(0,Ft.c)()).subscribe(e)})}var Ut=n(2875),jt=n(9996),Vt=n(6882);function qt(t,e){return"function"==typeof e?n=>n.pipe(qt((n,r)=>(0,mt.D)(t(n,r)).pipe((0,jt.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Gt(t))}class Gt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Bt(t,this.project))}}class Bt extends Vt.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Vt.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Vt.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ht=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function zt(t){return e=>0===t?(0,Ft.c)():e.lift(new Zt(t))}class Zt{constructor(t){if(this.total=t,this.total<0)throw new Ht}call(t,e){return e.subscribe(new Kt(t,this.total))}}class Kt extends St.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function $t(...t){const e=t[t.length-1];return(0,_t.K)(e)?(t.pop(),n=>Lt(t,n,e)):e=>Lt(t,e)}function Wt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Qt(t,e,n))}}class Qt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Jt(t,this.accumulator,this.seed,this.hasSeed))}}class Jt extends St.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Yt(t,e){return function(n){return n.lift(new Xt(t,e))}}class Xt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new te(t,this.predicate,this.thisArg))}}class te extends St.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ee(t){return function(e){const n=new ne(t),r=e.lift(n);return n.caught=r}}class ne{constructor(t){this.selector=t}call(t,e){return e.subscribe(new re(t,this.selector,this.caught))}}class re extends Vt.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Vt.IY(this);this.add(r);const i=(0,Vt.ft)(n,r);i!==r&&this.add(i)}}}var ie=n(3982);function oe(t,e){return(0,ie.zg)(t,e,1)}function se(t){return function(e){return 0===t?(0,Ft.c)():e.lift(new ae(t))}}class ae{constructor(t){if(this.total=t,this.total<0)throw new Ht}call(t,e){return e.subscribe(new ue(t,this.total))}}class ue extends St.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ce(t=fe){return e=>e.lift(new le(t))}class le{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new he(t,this.errorFactory))}}class he extends St.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(jb){t=jb}this.destination.error(t)}}}function fe(){return new Rt}function de(t=null){return e=>e.lift(new pe(t))}class pe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ge(t,this.defaultValue))}}class ge extends St.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var me=n(3392);function ye(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):me.y,zt(1),n?de(e):ce(()=>new Rt))}var ve=n(6599),be=n(1564),we=n(7570);class _e{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Te(t,this.callback))}}class Te extends St.L{constructor(t,e){super(t),this.add(new we.w(e))}}class Se{constructor(t,e){this.id=t,this.url=e}}class Ee extends Se{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ie extends Se{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ce extends Se{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xe extends Se{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ae extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends Se{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ne extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Le{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class qe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new qe(t)}function Be(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function He(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ze(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ze(t[i],e[i]))return!1;return!0}function Ze(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ke(t){return Array.prototype.concat.apply([],t)}function $e(t){return t.length>0?t[t.length-1]:null}function We(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qe(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,mt.D)(Promise.resolve(t)):(0,yt.of)(t)}const Je={exact:function t(e,n,r){if(!an(e.segments,n.segments))return!1;if(!nn(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:tn},Ye={exact:function(t,e){return ze(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ze(t[n],e[n]))},ignored:()=>!0};function Xe(t,e,n){return Je[n.paths](t.root,e.root,n.matrixParams)&&Ye[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function tn(t,e,n){return en(t,e,e.segments,n)}function en(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!an(i,n)&&!e.hasChildren()&&!!nn(i,n,r)}if(t.segments.length===n.length){if(!an(t.segments,n))return!1;if(!nn(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!tn(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!an(t.segments,i)&&!!nn(t.segments,i,r)&&!!t.children.primary&&en(t.children.primary,e,o,r)}}function nn(t,e,n){return e.every((e,r)=>Ye[n](t[r].parameters,e.parameters))}class rn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return ln.serialize(this)}}class on{constructor(t,e){this.segments=t,this.children=e,this.parent=null,We(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hn(this)}}class sn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return vn(this)}}function an(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class un{}class cn{parse(t){const e=new Sn(t);return new rn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${fn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${pn(e)}=${pn(t)}`).join("&"):`${pn(e)}=${pn(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ln=new cn;function hn(t){return t.segments.map(t=>vn(t)).join("/")}function fn(t,e){if(!t.hasChildren())return hn(t);if(e){const e=t.children.primary?fn(t.children.primary,!1):"",n=[];return We(t.children,(t,e)=>{e!==Ve&&n.push(`${e}:${fn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return We(t.children,(t,r)=>{r===Ve&&(n=n.concat(e(t,r)))}),We(t.children,(t,r)=>{r!==Ve&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ve?[fn(t.children.primary,!1)]:[`${n}:${fn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${hn(t)}/${e[0]}`:`${hn(t)}/(${e.join("//")})`}}function dn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pn(t){return dn(t).replace(/%3B/gi,";")}function gn(t){return dn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mn(t){return decodeURIComponent(t)}function yn(t){return mn(t.replace(/\+/g,"%20"))}function vn(t){return`${gn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${gn(t)}=${gn(e[t])}`).join("")}`;var e}const bn=/^[^\/()?;=#]+/;function wn(t){const e=t.match(bn);return e?e[0]:""}const _n=/^[^=?&#]+/,Tn=/^[^?&#]+/;class Sn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new on(t,e)),n}parseSegment(){const t=wn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new sn(mn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=wn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=wn(this.remaining);t&&(n=t,this.capture(n))}t[mn(e)]=mn(n)}parseQueryParam(t){const e=function(t){const e=t.match(_n);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Tn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=yn(e),i=yn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=wn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ve);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new on([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class En{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=In(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=In(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Cn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Cn(t,this._root).map(t=>t.value)}}function In(t,e){if(t===e.value)return e;for(const n of e.children){const e=In(t,n);if(e)return e}return null}function Cn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cn(t,n);if(r.length)return r.unshift(e),r}return[]}class xn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function An(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class kn extends En{constructor(t,e){super(t),this.snapshot=e,Ln(this,t)}toString(){return this.snapshot.toString()}}function On(t,e){const n=function(t,e){const n=new Rn([],{},{},"",{},Ve,e,null,t.root,-1,{});return new Pn("",new xn(n,[]))}(t,e),r=new wt([new sn("",{})]),i=new wt({}),o=new wt({}),s=new wt({}),a=new wt(""),u=new Nn(r,i,s,a,o,Ve,e,n.root);return u.snapshot=n.root,new kn(new xn(u,[]),n)}class Nn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,jt.U)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,jt.U)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Rn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pn extends En{constructor(t,e){super(e),this.url=t,Ln(this,e)}toString(){return Fn(this._root)}}function Ln(t,e){e.value._routerState=t,e.children.forEach(e=>Ln(t,e))}function Fn(t){const e=t.children.length>0?` { ${t.children.map(Fn).join(", ")} } `:"";return`${t.value}${e}`}function Mn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ze(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ze(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ze(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ze(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Un(t,e){return ze(t.params,e.params)&&function(t,e){return an(t,e)&&t.every((t,n)=>ze(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Un(t.parent,e.parent))}function jn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return jn(t,e,r);return jn(t,e)})}(t,e,n);return new xn(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Vn(e,t),t}}const n=new Nn(new wt((r=e.value).url),new wt(r.params),new wt(r.queryParams),new wt(r.fragment),new wt(r.data),r.outlet,r.component,r),i=e.children.map(e=>jn(t,e));return new xn(n,i)}var r}function Vn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Vn(t.children[n],e.children[n])}function qn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gn(t){return"object"==typeof t&&null!=t&&t.outlets}function Bn(t,e,n,r,i){let o={};return r&&We(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new rn(n.root===t?e:Hn(n.root,t,e),o,i)}function Hn(t,e,n){const r={};return We(t.children,(t,i)=>{r[i]=t===e?n:Hn(t,e,n)}),new on(t.segments,r)}class zn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Gn);if(r&&r!==$e(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kn(t,e,n){if(t||(t=new on([],{})),0===t.segments.length&&t.hasChildren())return $n(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Gn(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Yn(a,u,e))return o;r+=2}else{if(!Yn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new on(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new on(t.segments.slice(r.pathIndex),t.children),$n(e,0,i)}return r.match&&0===i.length?new on(t.segments,{}):r.match&&!t.hasChildren()?Wn(t,e,n):r.match?$n(t,0,i):Wn(t,e,n)}function $n(t,e,n){if(0===n.length)return new on(t.segments,{});{const r=function(t){return Gn(t[0])?t[0].outlets:{[Ve]:t}}(n),i={};return We(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Kn(t.children[r],e,n))}),We(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new on(t.segments,i)}}function Wn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Gn(o)){const t=Qn(o.outlets);return new on(r,t)}if(0===i&&qn(n[0])){r.push(new sn(t.segments[e].path,Jn(n[0]))),i++;continue}const s=Gn(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qn(a)?(r.push(new sn(s,Jn(a))),i+=2):(r.push(new sn(s,{})),i++)}return new on(r,{})}function Qn(t){const e={};return We(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Wn(new on([],{}),0,t))}),e}function Jn(t){const e={};return We(t,(t,n)=>e[n]=`${t}`),e}function Yn(t,e,n){return t==n.path&&ze(e,n.parameters)}class Xn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),We(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=An(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=An(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ue(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Fe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Mn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),tr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function tr(t){Mn(t.value),t.children.forEach(tr)}class er{constructor(t,e){this.routes=t,this.module=e}}function nr(t){return"function"==typeof t}function rr(t){return t instanceof rn}const ir=Symbol("INITIAL_VALUE");function or(){return qt(t=>function(...t){let e,n;return(0,_t.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Tt.k)(t[0])&&(t=t[0]),(0,kt.n)(t,n).lift(new Nt(e))}(t.map(t=>t.pipe(zt(1),$t(ir)))).pipe(Wt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ir)return t;if(r===ir&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||rr(r))return r}return t},t)},ir),Yt(t=>t!==ir),(0,jt.U)(t=>rr(t)?t:!0===t),zt(1)))}let sr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[ii]},encapsulation:2}),t})();function ar(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ur(r,cr(e,r))}}function ur(t,e){t.children&&ar(t.children,e)}function cr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function lr(t){const e=t.children&&t.children.map(lr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ve&&(n.component=sr),n}function hr(t){return t.outlet||Ve}function fr(t,e){const n=t.filter(t=>hr(t)===e);return n.push(...t.filter(t=>hr(t)!==e)),n}const dr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},dr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||He)(n,t,e);if(!i)return Object.assign({},dr);const o={};We(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function gr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>mr(t,e,n)&&hr(n)!==Ve)}(t,n,r)){const i=new on(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&hr(o)!==Ve){const n=new on([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[hr(o)]=n}return i}(t,e,r,new on(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>mr(t,e,n))}(t,n,r)){const o=new on(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(mr(t,n,a)&&!i[hr(a)]){const n=new on([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[hr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new on(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function mr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function yr(t,e,n,r){return!!(hr(t)===r||r!==Ve&&mr(e,n,t))&&("**"===t.path||pr(e,t,n).matched)}function vr(t,e,n){return 0===e.length&&!t.children[n]}class br{constructor(t){this.segmentGroup=t||null}}class wr{constructor(t){this.urlTree=t}}function _r(t){return new xt.y(e=>e.error(new br(t)))}function Tr(t){return new xt.y(e=>e.error(new wr(t)))}function Sr(t){return new xt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Er{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=gr(this.urlTree.root,[],[],this.config).segmentGroup,e=new on(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ve).pipe((0,jt.U)(t=>this.createUrlTree(Ir(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ee(t=>{if(t instanceof wr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof br)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ve).pipe((0,jt.U)(e=>this.createUrlTree(Ir(e),t.queryParams,t.fragment))).pipe(ee(t=>{if(t instanceof br)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new on([],{[Ve]:t}):t;return new rn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,jt.U)(t=>new on([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,mt.D)(r).pipe(oe(r=>{const i=n.children[r],o=fr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,jt.U)(t=>({segment:t,outlet:r})))}),Wt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):me.y,se(1),n?de(e):ce(()=>new Rt))}())}expandSegment(t,e,n,r,i,o){return(0,mt.D)(n).pipe(oe(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ee(t=>{if(t instanceof br)return(0,yt.of)(null);throw t}))),ye(t=>!!t),ee((t,n)=>{if(t instanceof Rt||"EmptyError"===t.name){if(vr(e,r,i))return(0,yt.of)(new on([],{}));throw new br(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return yr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):_r(e):_r(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Tr(i):this.lineralizeSegments(n,i).pipe((0,ie.zg)(n=>{const i=new on(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=pr(e,r,i);if(!s)return _r(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Tr(l):this.lineralizeSegments(r,l).pipe((0,ie.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,yt.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,jt.U)(t=>(n._loadedConfig=t,new on(r,{})))):(0,yt.of)(new on(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=pr(e,n,r);if(!o)return _r(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,ie.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=gr(e,s,u,o),l=new on(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,jt.U)(t=>new on(s,t)));if(0===o.length&&0===c.length)return(0,yt.of)(new on(s,{}));const h=hr(n)===i;return this.expandSegment(r,l,o,c,h?Ve:i,!0).pipe((0,jt.U)(t=>new on(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,yt.of)(new er(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,yt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,ie.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,jt.U)(t=>(e._loadedConfig=t,t))):function(t){return new xt.y(e=>e.error(Be(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,yt.of)(new er([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,yt.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&nr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!nr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Qe(o)});return(0,yt.of)(i).pipe(or(),(0,ve.b)(t=>{if(!rr(t))return;const e=Be(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,jt.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,yt.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Sr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new rn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return We(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return We(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new on(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ir(t){const e={};for(const n of Object.keys(t.children)){const r=Ir(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new on(t.segments.concat(e.segments),e.children)}return t}(new on(t.segments,e))}class Cr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xr{constructor(t,e){this.component=t,this.route=e}}function Ar(t,e,n){const r=t._root;return Or(r,e?e._root:null,n,[r.value])}function kr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Or(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=An(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!an(t.url,e.url);case"pathParamsOrQueryParamsChange":return!an(t.url,e.url)||!ze(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(t,e)||!ze(t.queryParams,e.queryParams);case"paramsChange":default:return!Un(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Or(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xr(a.outlet.component,s))}else s&&Nr(e,a,i),i.canActivateChecks.push(new Cr(r)),Or(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),We(o,(t,e)=>Nr(t,n.getContext(e),i)),i}function Nr(t,e,n){const r=An(t),i=t.value;We(r,(t,r)=>{Nr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new xr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Dr{}function Rr(t){return new xt.y(e=>e.error(t))}class Pr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=gr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ve);if(null===e)return null;const n=new Rn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xn(n,e),i=new Pn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Dn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=fr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Fr(n);return r.sort((t,e)=>t.value.outlet===Ve?-1:e.value.outlet===Ve?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return vr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!yr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?$e(n).parameters:{};i=new Rn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),hr(t),t.component,t,Mr(e),Ur(e)+n.length,Vr(t))}else{const r=pr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Rn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),hr(t),t.component,t,Mr(e),Ur(e)+o.length,Vr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=gr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new xn(i,t)]}if(0===a.length&&0===c.length)return[new xn(i,[])];const l=hr(t)===r,h=this.processSegment(a,u,c,l?Ve:r);return null===h?null:[new xn(i,h)]}}function Lr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fr(t){const e=[],n=new Set;for(const r of t){if(!Lr(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Fr(r.children);e.push(new xn(r.value,t))}return e.filter(t=>!n.has(t))}function Mr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ur(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function jr(t){return t.data||{}}function Vr(t){return t.resolve||{}}function qr(t){return qt(e=>{const n=t(e);return n?(0,mt.D)(n).pipe((0,jt.U)(()=>e)):(0,yt.of)(e)})}class Gr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Br=new r.OlP("ROUTES");class Hr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,jt.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new er(Ke(i.injector.get(Br,void 0,r.XFs.Self|r.XFs.Optional)).map(lr),i)}),ee(t=>{throw e._loader$=void 0,t}));return e._loader$=new Ut.c(n,()=>new vt.xQ).pipe((0,be.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,mt.D)(this.loader.load(t)):Qe(t()).pipe((0,ie.zg)(t=>t instanceof r.YKP?(0,yt.of)(t):(0,mt.D)(this.compiler.compileModuleAsync(t))))}}class zr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zr,this.attachRef=null}}class Zr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new zr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Kr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function $r(t){throw t}function Wr(t,e,n){return e.parse("/")}function Qr(t,e){return(0,yt.of)(null)}const Jr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new vt.xQ,this.errorHandler=$r,this.malformedUriErrorHandler=Wr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qr,afterPreactivation:Qr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new Gr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const c=o.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new rn(new on([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hr(s,a,t=>this.triggerEvent(new Re(t)),t=>this.triggerEvent(new Pe(t))),this.routerState=On(this.currentUrlTree,this.rootComponentType),this.transitions=new wt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Yt(t=>0!==t.id),(0,jt.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),qt(t=>{let n=!1,r=!1;return(0,yt.of)(t).pipe((0,ve.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,yt.of)(t).pipe(qt(t=>{const n=this.transitions.getValue();return e.next(new Ee(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ft.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,qt(t=>function(t,e,n,r,i){return new Er(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,jt.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,ve.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,ie.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Pr(t,e,n,r,i,o).recognize();return null===s?Rr(new Dr):(0,yt.of)(s)}catch(jb){return Rr(jb)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,jt.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ve.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ee(n,this.serializeUrl(r),i,o);e.next(a);const u=On(r,this.rootComponentType).snapshot;return(0,yt.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ft.E}),qr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,ve.b)(t=>{const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,jt.U)(t=>Object.assign(Object.assign({},t),{guards:Ar(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,ie.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,yt.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,mt.D)(t).pipe((0,ie.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,yt.of)(!0);const s=o.map(o=>{const s=kr(o,e,i);let a;if(function(t){return t&&nr(t.canDeactivate)}(s))a=Qe(s.canDeactivate(t,e,n,r));else{if(!nr(s))throw new Error("Invalid CanDeactivate guard");a=Qe(s(t,e,n,r))}return a.pipe(ye())});return(0,yt.of)(s).pipe(or())}(t.component,t.route,n,e,r)),ye(t=>!0!==t,!0))}(s,r,i,t).pipe((0,ie.zg)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return(0,mt.D)(e).pipe(oe(e=>Lt(function(t,e){return null!==t&&e&&e(new Le(t)),(0,yt.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Me(t)),(0,yt.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Mt(()=>{const i=e.guards.map(i=>{const o=kr(i,e.node,n);let s;if(function(t){return t&&nr(t.canActivateChild)}(o))s=Qe(o.canActivateChild(r,t));else{if(!nr(o))throw new Error("Invalid CanActivateChild guard");s=Qe(o(r,t))}return s.pipe(ye())});return(0,yt.of)(i).pipe(or())}));return(0,yt.of)(i).pipe(or())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,yt.of)(!0);const i=r.map(r=>Mt(()=>{const i=kr(r,e,n);let o;if(function(t){return t&&nr(t.canActivate)}(i))o=Qe(i.canActivate(e,t));else{if(!nr(i))throw new Error("Invalid CanActivate guard");o=Qe(i(e,t))}return o.pipe(ye())}));return(0,yt.of)(i).pipe(or())}(t,e.route,n))),ye(t=>!0!==t,!0))}(r,o,t,e):(0,yt.of)(n)),(0,jt.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,ve.b)(t=>{if(rr(t.guardsResult)){const e=Be(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Yt(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),qr(t=>{if(t.guards.canActivateChecks.length)return(0,yt.of)(t).pipe((0,ve.b)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),qt(t=>{let e=!1;return(0,yt.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,ie.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,yt.of)(t);let o=0;return(0,mt.D)(i).pipe(oe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,yt.of)({});const o={};return(0,mt.D)(i).pipe((0,ie.zg)(i=>function(t,e,n,r){const i=kr(t,e,r);return Qe(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,ve.b)(t=>{o[i]=t}))),se(1),(0,ie.zg)(()=>Object.keys(o).length===i.length?(0,yt.of)(o):Ft.E))}(t._resolve,t,e,r).pipe((0,jt.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Dn(t,n).resolve),null)))}(t.route,e,n,r)),(0,ve.b)(()=>o++),se(1),(0,ie.zg)(e=>o===i.length?(0,yt.of)(t):Ft.E))})),(0,ve.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,ve.b)(t=>{const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),qr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,jt.U)(t=>{const e=function(t,e,n){const r=jn(t,e._root,n?n._root:void 0);return new kn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,ve.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,jt.U)(t=>(new Xn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,ve.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},t=>t.lift(new _e(i))),ee(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=rr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ce(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new xe(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ch){t.reject(ch)}}var i;return Ft.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ar(t),this.config=t.map(lr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Bn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return We(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new zn(n,e,r)}(n);if(o.toRoot())return Bn(e.root,new on([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Zn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Zn(t,t===e.root,0)}const r=qn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?$n(s.segmentGroup,s.index,o.commands):Kn(s.segmentGroup,s.index,o.commands);return Bn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=rr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(jb){e=this.malformedUriErrorHandler(jb,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Jr):!1===e?Object.assign({},Yr):e,rr(t))return Xe(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Xe(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;let f;return f="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new Ce(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(un),r.LFG(Zr),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new vt.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xr),r.Y36(Nn),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})(),ei=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new vt.xQ,this.subscription=t.events.subscribe(t=>{t instanceof Ie&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xr),r.Y36(Nn),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function ni(t){return""===t||!!t}let ri=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Ie&&this.update()})}ngAfterContentInit(){(0,yt.of)(this.links.changes,this.linksWithHrefs.changes,(0,yt.of)(null)).pipe((0,Pt.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,mt.D)(e).pipe((0,Pt.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xr),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(ti,8),r.Y36(ei,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,ti,5),r.Suo(n,ei,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.links=t),r.iGM(t=r.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})(),ii=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Ve,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new oi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zr),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class oi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Nn?this.route:t===Zr?this.childContexts:this.parent.get(t,e)}}class si{}class ai{preload(t,e){return(0,yt.of)(null)}}let ui=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Hr(e,n,e=>t.triggerEvent(new Re(e)),e=>t.triggerEvent(new Pe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(t=>t instanceof Ie),oe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,mt.D)(n).pipe((0,Pt.J)(),(0,jt.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,yt.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,ie.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xr),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(si))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ci=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ee?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ie&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof je&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new je(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xr),r.LFG(M),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const li=new r.OlP("ROUTER_CONFIGURATION"),hi=new r.OlP("ROUTER_FORROOT_GUARD"),fi=[_,{provide:un,useClass:cn},{provide:Xr,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Xr(null,t,e,n,r,i,o,Ke(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[un,Zr,_,r.zs3,r.v3s,r.Sil,Br,li,[class{},new r.FiY],[class{},new r.FiY]]},Zr,{provide:Nn,useFactory:function(t){return t.routerState.root},deps:[Xr]},{provide:r.v3s,useClass:r.EAV},ui,ai,class{preload(t,e){return e().pipe(ee(()=>(0,yt.of)(null)))}},{provide:li,useValue:{enableTracing:!1}}];function di(){return new r.PXZ("Router",Xr)}let pi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[fi,vi(e),{provide:hi,useFactory:yi,deps:[[Xr,new r.FiY,new r.tp0]]},{provide:li,useValue:n||{}},{provide:m,useFactory:mi,deps:[a,[new r.tBr(v),new r.FiY],li]},{provide:ci,useFactory:gi,deps:[Xr,M,li]},{provide:si,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ai},{provide:r.PXZ,multi:!0,useFactory:di},[bi,{provide:r.ip1,multi:!0,useFactory:wi,deps:[bi]},{provide:Ti,useFactory:_i,deps:[bi]},{provide:r.tb,multi:!0,useExisting:Ti}]]}}static forChild(e){return{ngModule:t,providers:[vi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(hi,8),r.LFG(Xr,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function gi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ci(t,e,n)}function mi(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function yi(t){return"guarded"}function vi(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Br,multi:!0,useValue:t}]}let bi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new vt.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Xr),r=this.injector.get(li);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,yt.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(li),n=this.injector.get(ui),i=this.injector.get(ci),o=this.injector.get(Xr),s=this.injector.get(r.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function wi(t){return t.appInitializer.bind(t)}function _i(t){return t.bootstrapListener.bind(t)}const Ti=new r.OlP("Router Initializer");let Si=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-about"]],decls:19,vars:0,consts:[[1,"about-section"],[1,"about-title"],[1,"spirit-animal-image"],["src","../../assets/photo-1561037404-61cd46aa615b.jpg",1,"spirit-img"],[1,"about-content"],["href","https://trello.com/b/WRy7MHxR/journey-to-ml-engineer-data-scientist"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h1"),r._uU(3,"About"),r.qZA(),r.qZA(),r.TgZ(4,"div",2),r._UZ(5,"img",3),r.qZA(),r.TgZ(6,"div",4),r.TgZ(7,"p"),r._uU(8," I am a passionate software developer with expertise in backend "),r.qZA(),r.TgZ(9,"p"),r._uU(10," I am planning to start learning Data Science soon . Here is the link to my Trello "),r.qZA(),r.TgZ(11,"p"),r._uU(12," Also , planning to start writing a blog every three days . The blogs are mostly going to be technical tutorials with personal experiences tossed in every once in a while "),r.qZA(),r.TgZ(13,"p"),r._uU(14,"Please find the link to trello board "),r.TgZ(15,"a",5),r._uU(16,"here"),r.qZA(),r.qZA(),r.TgZ(17,"p"),r._uU(18,"And one more thing , Dog is my spirit animal :P"),r.qZA(),r.qZA(),r.qZA())},styles:[".about-section[_ngcontent-%COMP%]{padding:5rem}.spirit-img[_ngcontent-%COMP%]{border-radius:50%}.about-title[_ngcontent-%COMP%]{display:flex;justify-content:center}.about-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;margin-top:2rem}.spirit-animal-image[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}"]}),t})(),Ei=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-blog"]],decls:2,vars:0,template:function(t,e){1&t&&(r.TgZ(0,"p"),r._uU(1,"blog works!"),r.qZA())},styles:[""]}),t})(),Ii=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-contact"]],decls:2,vars:0,consts:[[1,"contact-comtainer"]],template:function(t,e){1&t&&(r._UZ(0,"div",0),r._uU(1,">\n"))},styles:[".contact-comtainer[_ngcontent-%COMP%]{height:800px}"]}),t})();function Ci(){return"undefined"!=typeof window&&void 0!==window.document}function xi(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let Ai=(t,e)=>!1,ki=(t,e)=>!1,Oi=(t,e,n)=>[];const Ni=xi();(Ni||"undefined"!=typeof Element)&&(Ci()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),ki=(()=>{if(Ni||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ki}})());const Di=new r.OlP("AnimationModuleType");let Ri;try{Ri="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Ev){Ri=!1}let Pi=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ri)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})();var Li=n(8569);"undefined"!=typeof Element&&Element;const Fi="cdk-high-contrast-black-on-white",Mi="cdk-high-contrast-white-on-black",Ui="cdk-high-contrast-active";let ji=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ui),t.remove(Fi),t.remove(Mi),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(Ui),t.add(Fi)):2===e&&(t.add(Ui),t.add(Mi))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Pi),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Pi),r.LFG(s))},token:t,providedIn:"root"}),t})(),Vi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const qi=new r.GfV("12.0.5"),Gi=new r.GfV("12.0.5"),Bi=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Hi,zi=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return(0,r.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Gi.full!==qi.full&&console.warn("The Angular Material version ("+Gi.full+") does not match the Angular CDK version ("+qi.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ji),r.LFG(Bi,8),r.LFG(s))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Vi],Vi]}),t})();try{Hi="undefined"!=typeof Intl}catch(Ev){Hi=!1}const Zi=["*",[["mat-card-footer"]]],Ki=["*","mat-card-footer"],$i=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Wi=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Qi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),Ji=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),Yi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),Xi=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Di,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:Ki,decls:2,vars:0,template:function(t,e){1&t&&(r.F$t(Zi),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),to=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Wi,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.F$t($i),r.Hsn(0),r.TgZ(1,"div",0),r.Hsn(2,1),r.qZA(),r.Hsn(3,2))},encapsulation:2,changeDetection:0}),t})(),eo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[zi],zi]}),t})();const no=function(t){return{"width.%":t}};function ro(t,e){if(1&t&&(r.TgZ(0,"div",14),r.TgZ(1,"mat-card",15),r.TgZ(2,"mat-card-content",16),r.TgZ(3,"div",17),r.TgZ(4,"div",18),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",19),r.TgZ(7,"div",20),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(5),r.Oqu(t.skill),r.xp6(2),r.Gre("progress-bar ",t.skill,""),r.Q6J("ngStyle",r.VKq(6,no,t.expertise)),r.xp6(1),r.hij("",t.expertise,"%")}}const io=[{path:"resume",component:(()=>{class t{constructor(){this.skills=[{skill:"Java",expertise:85},{skill:"SQL",expertise:90},{skill:"Spring",expertise:80},{skill:"Mongo DB",expertise:75},{skill:"Elastic Search",expertise:75},{skill:"Spark SQL",expertise:85},{skill:"Angular",expertise:75},{skill:"Python",expertise:50},{skill:"Agile",expertise:85},{skill:"Git",expertise:90}]}ngOnInit(){}downloadResume(){console.log("Downloading file")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-resume"]],decls:41,vars:1,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"resume-header"],[1,"btn"],[1,"fa","fa-download"],[1,"resume-content"],[1,"resume-content-section"],[1,"resume-section-title"],[1,"resume-section-work-experience"],[1,"work-experience-header"],[1,"work-experience-title"],[1,"work-experience-time"],[1,"Spacer"],[1,"resume-content-section-skills"],["class","skill-card-container",4,"ngFor","ngForOf"],[1,"skill-card-container"],[1,"resume-section-skills"],[1,"skill-content"],[1,"skill"],[1,"skill-title"],[1,"progress"],["role","progressbar","aria-valuenow","","aria-valuemin","0","aria-valuemax","100",3,"ngStyle"]],template:function(t,e){1&t&&(r._UZ(0,"link",0),r.TgZ(1,"div",1),r.TgZ(2,"button",2),r._UZ(3,"i",3),r.qZA(),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r._uU(7,"Work Experience"),r.qZA(),r.TgZ(8,"mat-card",7),r.TgZ(9,"mat-card-header",8),r.TgZ(10,"div",9),r.TgZ(11,"mat-card-title"),r._uU(12,"Analyst, Deutsche Bank"),r.qZA(),r.qZA(),r.TgZ(13,"div",10),r.TgZ(14,"mat-card-subtitle"),r._uU(15,"2018-Present"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"mat-card-content"),r.TgZ(17,"ul"),r.TgZ(18,"li"),r._uU(19,"Worked on a project which was primarily in house reporting tool . The relevant tech stack comprised of Angular 6 , Spring Boot and Oracle SQL . Was included in the design ,implementation and release of the same"),r.qZA(),r.TgZ(20,"li"),r._uU(21,"Worked on iConnex : in house ETL tool . Based on Microservices architecture and Oracle SQL/Elastic Search for ingesting, processing and loading of data"),r.qZA(),r.TgZ(22,"li"),r._uU(23,"Contributed to different Microservices as well as SPARK SQL Module for improving the performance on relatively biggerfiles"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(24,"div",11),r.TgZ(25,"mat-card",7),r.TgZ(26,"mat-card-header",8),r.TgZ(27,"div",9),r.TgZ(28,"mat-card-title"),r._uU(29,"Software Development Intern, Samsung"),r.qZA(),r.qZA(),r.TgZ(30,"div",10),r.TgZ(31,"mat-card-subtitle"),r._uU(32,"Summer of 2017"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"mat-card-content"),r.TgZ(34,"ul"),r.TgZ(35,"li"),r._uU(36,"The summer internship project was based on wireless communication between a user and the bot using a mobile application. The bot was able to identify obstacles on its own as well as find its path"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",12),r.TgZ(38,"div",6),r._uU(39,"Skills"),r.qZA(),r.YNc(40,ro,9,8,"div",13),r.qZA(),r.qZA()),2&t&&(r.xp6(40),r.Q6J("ngForOf",e.skills))},directives:[Xi,to,Ji,Yi,Qi,k,P],styles:[".resume-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:1rem}.resume-section-work-experience[_ngcontent-%COMP%]{background:#6c757d;margin:0 1rem;color:#fff}.work-experience-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.resume-section-title[_ngcontent-%COMP%]{padding:16px;font-size:2rem;font-style:bold;font-weight:500}.mat-card[_ngcontent-%COMP%]{border:0}.Spacer[_ngcontent-%COMP%]{padding:2px}.resume-section-skills[_ngcontent-%COMP%]{background:#6c757d;margin:0 1rem;color:#fff}.resume-content-section[_ngcontent-%COMP%]{margin-bottom:2rem}.skill-content[_ngcontent-%COMP%]{display:inline}.skill[_ngcontent-%COMP%]{display:flex}.skill-expertise[_ngcontent-%COMP%]{width:50%;text-align:right}.skill-title[_ngcontent-%COMP%]{width:50%}.progress-bar[_ngcontent-%COMP%]{background:#000;text-align:right}"]}),t})()},{path:"blog",component:Ei},{path:"contact",component:Ii},{path:"about",component:Si}];let oo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[pi.forRoot(io)],pi]}),t})();function so(t,e){1&t&&(r.TgZ(0,"a",16),r._uU(1," Vivek Jain "),r.qZA())}function ao(t,e){1&t&&(r.TgZ(0,"div",17),r.TgZ(1,"h1"),r._uU(2,"Vivek Jain"),r.qZA(),r.TgZ(3,"p"),r._uU(4,"Think, Code , Compile and what not"),r.qZA(),r.qZA())}const uo=function(){return{exact:!0}};let co=(()=>{class t{constructor(){this.title="portfolio-website",this.show=!1}toggleClick(){console.log("Changing toggle"),this.show=!this.show,console.log("Current state",this.show)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:26,vars:12,consts:[[1,"header"],[1,"navbar","navbar-expand-lg","nav-custom"],[1,"container-fluid"],[1,"header-title"],["class","navbar-brand",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","custom-navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/about","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/resume","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/blog","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/contact","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["class","motto",4,"ngIf"],[1,"navbar-brand"],[1,"motto"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"nav",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.YNc(4,so,2,0,"a",4),r.qZA(),r.TgZ(5,"button",5),r.NdJ("click",function(){return e.toggleClick()}),r._UZ(6,"span",6),r.qZA(),r.TgZ(7,"div",7),r.TgZ(8,"ul",8),r.TgZ(9,"li",9),r.TgZ(10,"a",10),r._uU(11,"Home"),r.qZA(),r.qZA(),r.TgZ(12,"li",9),r.TgZ(13,"a",11),r._uU(14,"About"),r.qZA(),r.qZA(),r.TgZ(15,"li",9),r.TgZ(16,"a",12),r._uU(17,"Resume"),r.qZA(),r.qZA(),r.TgZ(18,"li",9),r.TgZ(19,"a",13),r._uU(20,"Blog"),r.qZA(),r.qZA(),r.TgZ(21,"li",9),r.TgZ(22,"a",14),r._uU(23,"Contact"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(24,ao,5,0,"div",15),r.qZA(),r._UZ(25,"router-outlet")),2&t&&(r.xp6(4),r.Q6J("ngIf",e.show),r.xp6(6),r.Q6J("routerLinkActiveOptions",r.DdM(7,uo)),r.xp6(3),r.Q6J("routerLinkActiveOptions",r.DdM(8,uo)),r.xp6(3),r.Q6J("routerLinkActiveOptions",r.DdM(9,uo)),r.xp6(3),r.Q6J("routerLinkActiveOptions",r.DdM(10,uo)),r.xp6(3),r.Q6J("routerLinkActiveOptions",r.DdM(11,uo)),r.xp6(2),r.Q6J("ngIf",!e.show))},directives:[N,ei,ri,ii],styles:[".header[_ngcontent-%COMP%], .motto[_ngcontent-%COMP%]{justify-content:center;background-color:#000;color:#fff}.motto[_ngcontent-%COMP%]{height:200px;width:100%;text-align:center;display:flex;flex-direction:column}.nav-link.active[_ngcontent-%COMP%]{color:#fff}.nav-link[_ngcontent-%COMP%]{color:#ffffffa1}.custom-navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(255,255,255, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E\")}.custom-navbar-toggler[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border-color:#fff}.navbar-toggler[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.navbar-brand[_ngcontent-%COMP%]{color:#fff}.nav-item[_ngcontent-%COMP%]{font-size:1.2rem}"]}),t})();n(1225),n(2056),n(1055);let lo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[zi],zi]}),t})();function ho(){return t=>t.lift(new fo)}class fo{call(t,e){return e.subscribe(new po(t))}}class po extends St.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class go{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new mo(t,this.compare,this.keySelector))}}class mo extends St.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var yo=n(9971),vo=n(2346),bo=n(1858),wo=n(1062),_o=n(250),To=n(308),So=function(t,e){return(So=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Eo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Io,Co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xo=xo||{},Ao=Co||self;function ko(){}function Oo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function No(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Do="closure_uid_"+(1e9*Math.random()>>>0),Ro=0;function Po(t,e,n){return t.call.apply(t.bind,arguments)}function Lo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Fo(t,e,n){return(Fo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Po:Lo).apply(null,arguments)}function Mo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Uo(){return Date.now()}function jo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Vo(){this.j=this.j,this.i=this.i}Vo.prototype.j=!1,Vo.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Do)&&t[Do]||(t[Do]=++Ro)}(this)},Vo.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var qo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Go=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Bo(t){return Array.prototype.concat.apply([],arguments)}function Ho(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function zo(t){return/^[\s\xa0]*$/.test(t)}var Zo,Ko=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $o(t,e){return-1!=t.indexOf(e)}function Wo(t,e){return t<e?-1:t>e?1:0}t:{var Qo=Ao.navigator;if(Qo){var Jo=Qo.userAgent;if(Jo){Zo=Jo;break t}}Zo=""}function Yo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Xo(t){var e={};for(var n in t)e[n]=t[n];return e}var ts="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function es(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ts.length;o++)n=ts[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ns(t){return ns[" "](t),t}ns[" "]=ko;var rs,is,os=$o(Zo,"Opera"),ss=$o(Zo,"Trident")||$o(Zo,"MSIE"),as=$o(Zo,"Edge"),us=as||ss,cs=$o(Zo,"Gecko")&&!($o(Zo.toLowerCase(),"webkit")&&!$o(Zo,"Edge"))&&!($o(Zo,"Trident")||$o(Zo,"MSIE"))&&!$o(Zo,"Edge"),ls=$o(Zo.toLowerCase(),"webkit")&&!$o(Zo,"Edge");function hs(){var t=Ao.document;return t?t.documentMode:void 0}t:{var fs="",ds=(is=Zo,cs?/rv:([^\);]+)(\)|;)/.exec(is):as?/Edge\/([\d\.]+)/.exec(is):ss?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(is):ls?/WebKit\/(\S+)/.exec(is):os?/(?:Version)[ \/]?(\S+)/.exec(is):void 0);if(ds&&(fs=ds?ds[1]:""),ss){var ps=hs();if(null!=ps&&ps>parseFloat(fs)){rs=String(ps);break t}}rs=fs}var gs={};function ms(t){return function(t,e){var n=gs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ko(String(rs)).split("."),r=Ko(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Wo(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Wo(0==s[2].length,0==a[2].length)||Wo(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ys=Ao.document&&ss&&(hs()||parseInt(rs,10))||void 0,vs=!ss||9<=Number(ys),bs=ss&&!ms("9"),ws=function(){if(!Ao.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ao.addEventListener("test",ko,e),Ao.removeEventListener("test",ko,e)}catch(n){}return t}();function _s(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ts(t,e){if(_s.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(cs){t:{try{ns(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ss[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}_s.prototype.b=function(){this.defaultPrevented=!0},jo(Ts,_s);var Ss={2:"touch",3:"pen",4:"mouse"};Ts.prototype.b=function(){Ts.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,bs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Es="closure_listenable_"+(1e6*Math.random()|0),Is=0;function Cs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++Is,this.Y=this.Z=!1}function xs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function As(t){this.src=t,this.a={},this.b=0}function ks(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=qo(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Os(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}As.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Os(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Cs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ns="closure_lm_"+(1e6*Math.random()|0),Ds={};function Rs(t,e,n,r,i){if(r&&r.once)return Ls(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rs(t,e[o],n,r,i);return null}return n=Bs(n),t&&t[Es]?t.wa(e,n,No(r)?!!r.capture:!!r,i):Ps(t,e,n,!1,r,i)}function Ps(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=No(i)?!!i.capture:!!i;if(s&&!vs)return null;var a=qs(t);if(a||(t[Ns]=a=new As(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Vs,e=vs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ws||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Us(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ls(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ls(t,e[o],n,r,i);return null}return n=Bs(n),t&&t[Es]?t.xa(e,n,No(r)?!!r.capture:!!r,i):Ps(t,e,n,!0,r,i)}function Fs(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Fs(t,e[o],n,r,i);else r=No(r)?!!r.capture:!!r,n=Bs(n),t&&t[Es]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Os(o=t.a[e],n,r,i))&&(xs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=qs(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Os(e,n,r,i)),(n=-1<t?e[t]:null)&&Ms(n))}function Ms(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Es])ks(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Us(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qs(e))?(ks(n,t),0==n.b&&(n.src=null,e[Ns]=null)):xs(t)}}}function Us(t){return t in Ds?Ds[t]:Ds[t]="on"+t}function js(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&Ms(t),n.call(r,e)}function Vs(t,e){if(t.Y)return!0;if(!vs){if(!e)t:{e=["window","event"];for(var n=Ao,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return js(t,e=new Ts(e,this))}return js(t,new Ts(e,this))}function qs(t){return(t=t[Ns])instanceof As?t:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(t){return"function"==typeof t?t:(t[Gs]||(t[Gs]=function(e){return t.handleEvent(e)}),t[Gs])}function Hs(){Vo.call(this),this.c=new As(this),this.J=this,this.D=null}function zs(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new _s(e,t);else if(e instanceof _s)e.target=e.target||t;else{var i=e;es(e=new _s(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Zs(s,r,!0,e)&&i}if(i=Zs(s=e.a=t,r,!0,e)&&i,i=Zs(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Zs(s=e.a=n[o],r,!1,e)&&i}function Zs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&ks(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}jo(Hs,Vo),Hs.prototype[Es]=!0,(Io=Hs.prototype).addEventListener=function(t,e,n,r){Rs(this,t,e,n,r)},Io.removeEventListener=function(t,e,n,r){Fs(this,t,e,n,r)},Io.H=function(){if(Hs.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)xs(n[r]);delete e.a[t],e.b--}}this.D=null},Io.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Io.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ks=Ao.JSON.stringify;function $s(){this.b=this.a=null}var Ws,Qs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ys},function(t){t.reset()});function Js(){var t=na,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ys(){this.next=this.b=this.a=null}function Xs(t){Ao.setTimeout(function(){throw t},0)}function ta(t,e){Ws||function(){var t=Ao.Promise.resolve(void 0);Ws=function(){t.then(ra)}}(),ea||(Ws(),ea=!0),na.add(t,e)}$s.prototype.add=function(t,e){var n=Qs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ys.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ys.prototype.reset=function(){this.next=this.b=this.a=null};var ea=!1,na=new $s;function ra(){for(var t;t=Js();){try{t.a.call(t.b)}catch(n){Xs(n)}var e=Qs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ea=!1}function ia(t,e){Hs.call(this),this.b=t||1,this.a=e||Ao,this.f=Fo(this.eb,this),this.g=Uo()}function oa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function sa(t,e,n){if("function"==typeof t)n&&(t=Fo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Fo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ao.setTimeout(t,e||0)}function aa(t){t.a=sa(function(){t.a=null,t.c&&(t.c=!1,aa(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}jo(ia,Hs),(Io=ia.prototype).aa=!1,Io.M=null,Io.eb=function(){if(this.aa){var t=Uo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),zs(this,"tick"),this.aa&&(oa(this),this.start()))}},Io.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Uo())},Io.H=function(){ia.X.H.call(this),oa(this),delete this.a};var ua=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}So(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:aa(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(Ao.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Vo);function ca(t){Vo.call(this),this.b=t,this.a={}}jo(ca,Vo);var la=[];function ha(t,e,n,r){Array.isArray(n)||(n&&(la[0]=n.toString()),n=la);for(var i=0;i<n.length;i++){var o=Rs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function fa(t){Yo(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ms(t)},t),t.a={}}function da(){this.a=!0}function pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ks(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ca.prototype.H=function(){ca.X.H.call(this),fa(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},da.prototype.info=function(){};var ga={},ma=null;function ya(){return ma=ma||new Hs}function va(t){_s.call(this,ga.Ga,t)}function ba(t){var e=ya();zs(e,new va(e,t))}function wa(t,e){_s.call(this,ga.STAT_EVENT,t),this.stat=e}function _a(t){var e=ya();zs(e,new wa(e,t))}function Ta(t){_s.call(this,ga.Ha,t)}function Sa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ao.setTimeout(function(){t()},e)}ga.Ga="serverreachability",jo(va,_s),ga.STAT_EVENT="statevent",jo(wa,_s),ga.Ha="timingevent",jo(Ta,_s);var Ea={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},Ia={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function Ca(){}function xa(){}Ca.prototype.b=null;var Aa,ka={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function Oa(){_s.call(this,"d")}function Na(){_s.call(this,"c")}function Da(){}function Ra(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ca(this),this.P=Pa,this.R=new ia(t=us?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}jo(Oa,_s),jo(Na,_s),jo(Da,Ca),Da.prototype.a=function(){return new XMLHttpRequest},Da.prototype.c=function(){return{}},Aa=new Da;var Pa=45e3,La={},Fa={};function Ma(t,e,n){t.G=1,t.i=ou(Xa(e)),t.j=n,t.I=!0,Ua(t,null)}function Ua(t,e){t.u=Uo(),qa(t),t.l=Xa(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),vu(n.b,"t",r),t.D=0,t.a=fc(t.g,t.g.C?e:null),0<t.O&&(t.F=new ua(Fo(t.Da,t,t.a),t.O)),ha(t.J,t.a,"readystatechange",t.bb),e=t.B?Xo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ba(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ja(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Va(t,n);if(i==Fa){4==e&&(t.h=4,_a(14),r=!1),pa(t.c,t.f,null,"[Incomplete Response]");break}if(i==La){t.h=4,_a(15),pa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}pa(t.c,t.f,i,null),Za(t,i)}4==e&&0==n.length&&(t.h=1,_a(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ic(e),e.F=!0,_a(11))):(pa(t.c,t.f,n,"[Invalid Chunked Response]"),za(t),Ha(t))}function Va(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Fa:(n=Number(e.substring(n,r)),isNaN(n)?La:(r+=1)+n>e.length?Fa:(e=e.substr(r,n),t.D=r+n,e))}function qa(t){t.T=Uo()+t.P,Ga(t,t.P)}function Ga(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Sa(Fo(t.$a,t),e)}function Ba(t){t.o&&(Ao.clearTimeout(t.o),t.o=null)}function Ha(t){0==t.g.v||t.A||ac(t.g,t)}function za(t){Ba(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,oa(t.R),fa(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function Za(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Iu(n.b,t)))if(n.I=t.N,!t.C&&Iu(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(gb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;sc(n),Wu(n)}rc(n),_a(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Sa(Fo(n.Xa,n),6e3));if(1>=Eu(n.b)&&n.fa){try{n.fa()}catch(gb){}n.fa=void 0}}else cc(n,11)}else if((t.C||n.a==t)&&sc(n),!zo(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var s=i[4];null!=s&&(n.qa=s,n.c.info("SVER="+n.qa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&($o(l,"spdy")||$o(l,"quic")||$o(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Cu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,iu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=Uo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=hc(u,u.C?u.ha:null,u.ga),d.C){xu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Ba(p),qa(p)),u.a=d}else nc(u);0<n.g.length&&Yu(n)}else"stop"!=i[0]&&"close"!=i[0]||cc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?cc(n,7):$u(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);ba(4)}catch(gb){}}function Ka(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Oo(t)||"string"==typeof t)Go(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Oo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Oo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $a(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $a)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Wa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Qa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Qa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Io=Ra.prototype).setTimeout=function(t){this.P=t},Io.bb=function(t){t=t.target;var e=this.F;e&&3==Hu(t)?e.f():this.Da(t)},Io.Da=function(t){try{if(t==this.a)t:{var e=Hu(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!us&&!this.a.$())){this.A||4!=e||7==n||ba(8==n||0>=r?3:2),Ba(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zo(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,_a(12),za(this),Ha(this);break t}pa(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Za(this,u)}this.I?(ja(this,e,o),us&&this.b&&3==e&&(ha(this.J,this.R,"tick",this.ab),this.R.start())):(pa(this.c,this.f,o,null),Za(this,o)),4==e&&za(this),this.b&&!this.A&&(4==e?ac(this.g,this):(this.b=!1,qa(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_a(12)):(this.h=0,_a(13)),za(this),Ha(this)}}}catch(c){}},Io.ab=function(){if(this.a){var t=Hu(this.a),e=this.a.$();this.D<e.length&&(Ba(this),ja(this,t,e),this.b&&4!=t&&qa(this))}},Io.cancel=function(){this.A=!0,za(this)},Io.$a=function(){this.o=null;var t=Uo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(ba(3),_a(17)),za(this),this.h=2,Ha(this)):Ga(this,this.T-t)},(Io=$a.prototype).K=function(){Wa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Io.L=function(){return Wa(this),this.a.concat()},Io.get=function(t,e){return Qa(this.b,t)?this.b[t]:e},Io.set=function(t,e){Qa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Io.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ja=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ya(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ya){this.a=void 0!==e?e:t.a,tu(this,t.f),this.j=t.j,eu(this,t.c),nu(this,t.h),this.g=t.g,e=t.b;var n=new pu;n.c=e.c,e.a&&(n.a=new $a(e.a),n.b=e.b),ru(this,n),this.i=t.i}else t&&(n=String(t).match(Ja))?(this.a=!!e,tu(this,n[1]||"",!0),this.j=su(n[2]||""),eu(this,n[3]||"",!0),nu(this,n[4]),this.g=su(n[5]||"",!0),ru(this,n[6]||"",!0),this.i=su(n[7]||"")):(this.a=!!e,this.b=new pu(null,this.a))}function Xa(t){return new Ya(t)}function tu(t,e,n){t.f=n?su(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function eu(t,e,n){t.c=n?su(e,!0):e}function nu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ru(t,e,n){e instanceof pu?(t.b=e,function(t,e){e&&!t.f&&(gu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(mu(this,e),vu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=au(e,fu)),t.b=new pu(e,t.a))}function iu(t,e,n){t.b.set(e,n)}function ou(t){return iu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Uo()).toString(36)),t}function su(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function au(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,uu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ya.prototype.toString=function(){var t=[],e=this.f;e&&t.push(au(e,cu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(au(e,cu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(au(n,"/"==n.charAt(0)?hu:lu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",au(n,du)),t.join("")};var cu=/[#\/\?@]/g,lu=/[#\?:]/g,hu=/[#\?]/g,fu=/[#\?@]/g,du=/#/g;function pu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gu(t){t.a||(t.a=new $a,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function mu(t,e){gu(t),e=bu(t,e),Qa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Wa(t)))}function yu(t,e){return gu(t),e=bu(t,e),Qa(t.a.b,e)}function vu(t,e,n){mu(t,e),0<n.length&&(t.c=null,t.a.set(bu(t,e),Ho(n)),t.b+=n.length)}function bu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Io=pu.prototype).add=function(t,e){gu(this),this.c=null,t=bu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Io.forEach=function(t,e){gu(this),this.a.forEach(function(n,r){Go(n,function(n){t.call(e,n,r,this)},this)},this)},Io.L=function(){gu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Io.K=function(t){gu(this);var e=[];if("string"==typeof t)yu(this,t)&&(e=Bo(e,this.a.get(bu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Bo(e,t[n])}return e},Io.set=function(t,e){return gu(this),this.c=null,yu(this,t=bu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Io.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Io.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var wu=function(){return function(t,e){this.b=t,this.a=e}}();function _u(t){this.g=t||Tu,t=Ao.PerformanceNavigationTiming?0<(t=Ao.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ao.ja&&Ao.ja.za&&Ao.ja.za()&&Ao.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Tu=10;function Su(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Eu(t){return t.b?1:t.a?t.a.size:0}function Iu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Cu(t,e){t.a?t.a.add(e):t.b=e}function xu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Au(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Eo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ho(t.c)}function ku(){}function Ou(){this.a=new ku}function Nu(t,e,n){var r=n||"";try{Ka(t,function(t,n){var i=t;No(t)&&(i=Ks(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(jb){throw e.push(r+"type="+encodeURIComponent("_badmap")),jb}}function Du(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}_u.prototype.cancel=function(){var t,e;if(this.c=Au(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Eo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ku.prototype.stringify=function(t){return Ao.JSON.stringify(t,void 0)},ku.prototype.parse=function(t){return Ao.JSON.parse(t,void 0)};var Ru=Ao.JSON.parse;function Pu(t){Hs.call(this),this.headers=new $a,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=Lu,this.F=this.G=!1}jo(Pu,Hs);var Lu="",Fu=/^https?$/i,Mu=["POST","PUT"];function Uu(t){return"content-type"==t.toLowerCase()}function ju(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Vu(t),Gu(t)}function Vu(t){t.A||(t.A=!0,zs(t,"complete"),zs(t,"error"))}function qu(t){if(t.b&&void 0!==xo&&(!t.u[1]||4!=Hu(t)||2!=t.W()))if(t.m&&4==Hu(t))sa(t.Aa,0,t);else if(zs(t,"readystatechange"),4==Hu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(Ja)[1]||null;if(!o&&Ao.self&&Ao.self.location){var s=Ao.self.location.protocol;o=s.substr(0,s.length-1)}i=!Fu.test(o?o.toLowerCase():"")}e=i}if(e)zs(t,"complete"),zs(t,"success");else{t.h=6;try{var a=2<Hu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Vu(t)}}finally{Gu(t)}}}function Gu(t,e){if(t.a){Bu(t);var n=t.a,r=t.u[0]?ko:null;t.a=null,t.u=null,e||zs(t,"ready");try{n.onreadystatechange=r}catch(jb){}}}function Bu(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(Ao.clearTimeout(t.o),t.o=null)}function Hu(t){return t.a?t.a.readyState:0}function zu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Yo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):iu(t,e,n))}function Zu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ku(t){this.qa=0,this.g=[],this.c=new da,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Zu("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Zu("baseRetryDelayMs",5e3,t),this.Sa=Zu("retryDelaySeedMs",1e4,t),this.Na=Zu("forwardChannelMaxRetries",2,t),this.na=Zu("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new _u(t&&t.concurrentRequestLimit),this.la=new Ou,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function $u(t){if(Qu(t),3==t.v){var e=t.R++,n=Xa(t.B);iu(n,"SID",t.J),iu(n,"RID",e),iu(n,"TYPE","terminate"),tc(t,n),(e=new Ra(t,t.c,e,void 0)).G=2,e.i=ou(Xa(n)),n=!1,Ao.navigator&&Ao.navigator.sendBeacon&&(n=Ao.navigator.sendBeacon(e.i.toString(),"")),!n&&Ao.Image&&((new Image).src=e.i,n=!0),n||(e.a=fc(e.g,null),e.a.ba(e.i)),e.u=Uo(),qa(e)}lc(t)}function Wu(t){t.a&&(ic(t),t.a.cancel(),t.a=null)}function Qu(t){Wu(t),t.j&&(Ao.clearTimeout(t.j),t.j=null),sc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ao.clearTimeout(t.h),t.h=null)}function Ju(t,e){t.g.push(new wu(t.Pa++,e)),3==t.v&&Yu(t)}function Yu(t){Su(t.b)||t.h||(t.h=!0,ta(t.Ca,t),t.u=0)}function Xu(t,e){var n;n=e?e.f:t.R++;var r=Xa(t.B);iu(r,"SID",t.J),iu(r,"RID",n),iu(r,"AID",t.P),tc(t,r),t.i&&t.l&&zu(r,t.i,t.l),n=new Ra(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ec(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),Cu(t.b,n),Ma(n,r,e)}function tc(t,e){t.f&&Ka({},function(t,n){iu(e,n,t)})}function ec(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Fo(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Nu(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function nc(t){t.a||t.j||(t.T=1,ta(t.Ba,t),t.o=0)}function rc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Sa(Fo(t.Ba,t),uc(t,t.o)),t.o++,0))}function ic(t){null!=t.s&&(Ao.clearTimeout(t.s),t.s=null)}function oc(t){t.a=new Ra(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xa(t.ma);iu(e,"RID","rpc"),iu(e,"SID",t.J),iu(e,"CI",t.G?"0":"1"),iu(e,"AID",t.P),tc(t,e),iu(e,"TYPE","xmlhttp"),t.i&&t.l&&zu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=ou(Xa(e)),n.j=null,n.I=!0,Ua(n,t)}function sc(t){null!=t.m&&(Ao.clearTimeout(t.m),t.m=null)}function ac(t,e){var n=null;if(t.a==e){sc(t),ic(t),t.a=null;var r=2}else{if(!Iu(t.b,e))return;n=e.s,xu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Uo()-e.u;var i=t.u;zs(r=ya(),new Ta(r,n,e,i)),Yu(t)}else nc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Eu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Sa(Fo(t.Ca,t,e),uc(t,t.u)),t.u++,0)))}(t,e)||2==r&&rc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:cc(t,5);break;case 4:cc(t,10);break;case 3:cc(t,6);break;default:cc(t,2)}}function uc(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function cc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Fo(t.cb,t);n||(n=new Ya("//www.google.com/images/cleardot.gif"),Ao.location&&"http"==Ao.location.protocol||tu(n,"https"),ou(n)),function(t,e){var n=new da;if(Ao.Image){var r=new Image;r.onload=Mo(Du,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mo(Du,n,r,"TestLoadImage: error",!1,e),r.onabort=Mo(Du,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mo(Du,n,r,"TestLoadImage: timeout",!1,e),Ao.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else _a(2);t.v=0,t.f&&t.f.sa(e),lc(t),Qu(t)}function lc(t){t.v=0,t.I=-1,t.f&&(0==Au(t.b).length&&0==t.g.length||(t.b.c.length=0,Ho(t.g),t.g.length=0),t.f.ra())}function hc(t,e,n){var r=function(t){return t instanceof Ya?Xa(t):new Ya(t,void 0)}(n);if(""!=r.c)e&&eu(r,e+"."+r.c),nu(r,r.h);else{var i=Ao.location;r=function(t,e,n,r){var i=new Ya(null,void 0);return t&&tu(i,t),e&&eu(i,e),n&&nu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Yo(t.V,function(t,e){iu(r,e,t)}),n=t.oa,(e=t.A)&&n&&iu(r,e,n),iu(r,"VER",t.ia),tc(t,r),r}function fc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pu(t.Oa)).G=t.C,e}function dc(){}function pc(){if(ss&&!(10<=Number(ys)))throw Error("Environmental error: no available transport.")}function gc(t,e){Hs.call(this),this.a=new Ku(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!zo(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new vc(this)}function mc(t){Oa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function yc(){Na.call(this),this.status=1}function vc(t){this.a=t}function bc(t){this.f=t}function wc(t){Hs.call(this),this.u=t,this.h=void 0,this.readyState=_c,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(Io=Pu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():Aa.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:Aa),this.a.onreadystatechange=Fo(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void ju(this,o)}t=n||"";var i=new $a(this.headers);r&&Ka(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Uu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ao.FormData&&t instanceof Ao.FormData,!(0<=qo(Mu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Bu(this),0<this.s&&((this.F=function(t){return ss&&ms(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=Fo(this.ya,this)):this.o=sa(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){ju(this,o)}},Io.ya=function(){void 0!==xo&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,zs(this,"timeout"),this.abort(8))},Io.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,zs(this,"complete"),zs(this,"abort"),Gu(this))},Io.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gu(this,!0)),Pu.X.H.call(this)},Io.Aa=function(){this.j||(this.B||this.m||this.g?qu(this):this.Za())},Io.Za=function(){qu(this)},Io.W=function(){try{return 2<Hu(this)?this.a.status:-1}catch(is){return-1}},Io.$=function(){try{return this.a?this.a.responseText:""}catch(is){return""}},Io.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ru(e)}},Io.va=function(){return this.h},Io.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(Io=Ku.prototype).ia=8,Io.v=1,Io.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ra(this,this.c,t,void 0),r=this.l;if(this.O&&(r?es(r=Xo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ec(this,n,e),iu(i=Xa(this.B),"RID",t),iu(i,"CVER",22),this.A&&iu(i,"X-HTTP-Session-Id",this.A),tc(this,i),this.i&&r&&zu(i,this.i,r),Cu(this.b,n),this.Ja&&iu(i,"TYPE","init"),this.ea?(iu(i,"$req",e),iu(i,"SID","null"),n.U=!0,Ma(n,i,null)):Ma(n,i,e),this.v=2}}else 3==this.v&&(t?Xu(this,t):0==this.g.length||Su(this.b)||Xu(this))},Io.Ba=function(){if(this.j=null,oc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Sa(Fo(this.Ya,this),t)}},Io.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,_a(10),Wu(this),oc(this))},Io.Xa=function(){null!=this.m&&(this.m=null,Wu(this),rc(this),_a(19))},Io.cb=function(t){t?(this.c.info("Successfully pinged google.com"),_a(2)):(this.c.info("Failed to ping google.com"),_a(1))},(Io=dc.prototype).ua=function(){},Io.ta=function(){},Io.sa=function(){},Io.ra=function(){},Io.Ka=function(){},pc.prototype.a=function(t,e){return new gc(t,e)},jo(gc,Hs),gc.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;_a(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=hc(t,null,t.ga),Yu(t)},gc.prototype.close=function(){$u(this.a)},gc.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,Ju(this.a,e)}else this.m?((e={}).__data__=Ks(t),Ju(this.a,e)):Ju(this.a,t)},gc.prototype.H=function(){this.a.f=null,delete this.f,$u(this.a),delete this.a,gc.X.H.call(this)},jo(mc,Oa),jo(yc,Na),jo(vc,dc),vc.prototype.ua=function(){zs(this.a,"a")},vc.prototype.ta=function(t){zs(this.a,new mc(t))},vc.prototype.sa=function(t){zs(this.a,new yc(t))},vc.prototype.ra=function(){zs(this.a,"b")},jo(bc,Ca),bc.prototype.a=function(){return new wc(this.f)},bc.prototype.c=function(t){return function(){return t}}({}),jo(wc,Hs);var _c=0;function Tc(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Sc(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Ec(t)}function Ec(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Io=wc.prototype).open=function(t,e){if(this.readyState!=_c)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Ec(this)},Io.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},Io.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Sc(this)),this.readyState=_c},Io.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ec(this)),this.a&&(this.readyState=3,Ec(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==Ao.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Tc(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},Io.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Sc(this):Ec(this),3==this.readyState&&Tc(this)}},Io.Va=function(t){this.a&&(this.responseText=t,Sc(this))},Io.Ua=function(){this.a&&Sc(this)},Io.ca=function(){this.a&&Sc(this)},Io.setRequestHeader=function(t,e){this.l.append(t,e)},Io.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},Io.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),pc.prototype.createWebChannel=pc.prototype.a,gc.prototype.send=gc.prototype.l,gc.prototype.open=gc.prototype.h,gc.prototype.close=gc.prototype.close,Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,Ia.COMPLETE="complete",xa.EventType=ka,ka.OPEN="a",ka.CLOSE="b",ka.ERROR="c",ka.MESSAGE="d",Hs.prototype.listen=Hs.prototype.wa,Pu.prototype.listenOnce=Pu.prototype.xa,Pu.prototype.getLastError=Pu.prototype.Ra,Pu.prototype.getLastErrorCode=Pu.prototype.va,Pu.prototype.getStatus=Pu.prototype.W,Pu.prototype.getResponseJson=Pu.prototype.Qa,Pu.prototype.getResponseText=Pu.prototype.$,Pu.prototype.send=Pu.prototype.ba;var Ic=Ea,Cc=Ia,xc=ga,Ac=bc,kc=xa,Oc=Pu,Nc=n(4762),Dc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Dc.o=-1;var Rc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Nc.ZT)(e,t),e}(Error),Lc=new To.Yd("@firebase/firestore");function Fc(){return Lc.logLevel}function Mc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lc.logLevel<=To.in.DEBUG){var r=e.map(Vc);Lc.debug.apply(Lc,(0,Nc.ev)(["Firestore (8.6.7): "+t],r))}}function Uc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lc.logLevel<=To.in.ERROR){var r=e.map(Vc);Lc.error.apply(Lc,(0,Nc.ev)(["Firestore (8.6.7): "+t],r))}}function jc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Lc.logLevel<=To.in.WARN){var r=e.map(Vc);Lc.warn.apply(Lc,(0,Nc.ev)(["Firestore (8.6.7): "+t],r))}}function Vc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(jb){return t}}function qc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.7) INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function Gc(t,e){t||qc()}function Bc(t,e){return t}function Hc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Hc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Zc(t,e){return t<e?-1:t>e?1:0}function Kc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function $c(t){return t+"\0"}var Wc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Zc(this.nanoseconds,t.nanoseconds):Zc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Qc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Wc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Jc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var tl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&qc(),void 0===n?n=t.length-e:n>t.length-e&&qc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),el=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(tl),nl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return nl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Pc(Rc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Pc(Rc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Pc(Rc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(tl),il=function(){function t(t){this.fields=t,t.sort(rl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Kc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ol=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Zc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ol.EMPTY_BYTE_STRING=new ol("");var sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(t){if(Gc(!!t),"string"==typeof t){var e=0,n=sl.exec(t);if(Gc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ul(t.seconds),nanos:ul(t.nanos)}}function ul(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function cl(t){return"string"==typeof t?ol.fromBase64String(t):ol.fromUint8Array(t)}function ll(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hl(t){var e=t.mapValue.fields.__previous_value__;return ll(e)?hl(e):e}function fl(t){var e=al(t.mapValue.fields.__local_write_time__.timestampValue);return new Wc(e.seconds,e.nanos)}function dl(t){return null==t}function pl(t){return 0===t&&1/t==-1/0}function gl(t){return"number"==typeof t&&Number.isInteger(t)&&!pl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ml=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(el.fromString(e))},t.fromName=function(e){return new t(el.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===el.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return el.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new el(e.slice()))},t}();function yl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ll(t)?4:10:qc()}function vl(t,e){var n=yl(t);if(n!==yl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=al(t.timestampValue),r=al(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return cl(t.bytesValue).isEqual(cl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ul(t.geoPointValue.latitude)===ul(e.geoPointValue.latitude)&&ul(t.geoPointValue.longitude)===ul(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ul(t.integerValue)===ul(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ul(t.doubleValue),r=ul(e.doubleValue);return n===r?pl(n)===pl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Kc(t.arrayValue.values||[],e.arrayValue.values||[],vl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jc(n)!==Jc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vl(n[i],r[i])))return!1;return!0}(t,e);default:return qc()}}function bl(t,e){return void 0!==(t.values||[]).find(function(t){return vl(t,e)})}function wl(t,e){var n=yl(t),r=yl(e);if(n!==r)return Zc(n,r);switch(n){case 0:return 0;case 1:return Zc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ul(t.integerValue||t.doubleValue),r=ul(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return _l(t.timestampValue,e.timestampValue);case 4:return _l(fl(t),fl(e));case 5:return Zc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=cl(t),r=cl(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Zc(n[i],r[i]);if(0!==o)return o}return Zc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Zc(ul(t.latitude),ul(e.latitude));return 0!==n?n:Zc(ul(t.longitude),ul(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=wl(n[i],r[i]);if(o)return o}return Zc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Zc(r[s],o[s]);if(0!==a)return a;var u=wl(n[r[s]],i[o[s]]);if(0!==u)return u}return Zc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw qc()}}function _l(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zc(t,e);var n=al(t),r=al(e),i=Zc(n.seconds,r.seconds);return 0!==i?i:Zc(n.nanos,r.nanos)}function Tl(t){return Sl(t)}function Sl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=al(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cl(t.bytesValue).toBase64():"referenceValue"in t?ml.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Sl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Sl(t.fields[o])}return e+"}"}(t.mapValue):qc();var e}function El(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Il(t){return!!t&&"integerValue"in t}function Cl(t){return!!t&&"arrayValue"in t}function xl(t){return!!t&&"nullValue"in t}function Al(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kl(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},al(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Yc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Ol(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ol(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Nl=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!kl(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(e)},t.prototype.setAll=function(t){var e=this,n=rl.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Ol(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());kl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return vl(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];kl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Yc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ol(this.value))},t}();function Dl(t){var e=[];return Yc(t.fields,function(t,n){var r=new rl([t]);if(kl(n)){var i=Dl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new il(e)}var Rl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Qc.min(),Nl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Nl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Nl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Nl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Nl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Pl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Ll(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Pl(t,e,n,r,i,o,s)}function Fl(t){var e=Bc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Tl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),dl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Wl(e.startAt)),e.endAt&&(n+="|ub:",n+=Wl(e.endAt)),e.h=n}return e.h}function Ml(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Jl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!vl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xl(t.startAt,e.startAt)&&Xl(t.endAt,e.endAt)}function Ul(t){return ml.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var jl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Nc.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Vl(t,n,r):"array-contains"===n?new Hl(t,r):"in"===n?new zl(t,r):"not-in"===n?new Zl(t,r):"array-contains-any"===n?new Kl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ql(t,n):new Gl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(wl(e,this.value)):null!==e&&yl(this.value)===yl(e)&&this.m(wl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Vl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ml.fromName(r.referenceValue),i}return(0,Nc.ZT)(e,t),e.prototype.matches=function(t){var e=ml.comparator(t.key,this.key);return this.m(e)},e}(jl),ql=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Bl(0,n),r}return(0,Nc.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(jl),Gl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Bl(0,n),r}return(0,Nc.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(jl);function Bl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ml.fromName(t.referenceValue)})}var Hl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Nc.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Cl(e)&&bl(e.arrayValue,this.value)},e}(jl),zl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Nc.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&bl(this.value.arrayValue,e)},e}(jl),Zl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Nc.ZT)(e,t),e.prototype.matches=function(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!bl(this.value.arrayValue,e)},e}(jl),Kl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Nc.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Cl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return bl(e.value.arrayValue,t)})},e}(jl),$l=function(t,e){this.position=t,this.before=e};function Wl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Tl(t)}).join(",")}var Ql=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Jl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?ml.comparator(ml.fromName(s.referenceValue),n.key):wl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!vl(t.position[n],e.position[n]))return!1;return!0}var th=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function eh(t,e,n,r,i,o,s,a){return new th(t,e,n,r,i,o,s,a)}function nh(t){return new th(t)}function rh(t){return!dl(t.limit)&&"F"===t.limitType}function ih(t){return!dl(t.limit)&&"L"===t.limitType}function oh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ah(t){return null!==t.collectionGroup}function uh(t){var e=Bc(t);if(null===e.p){e.p=[];var n=sh(e),r=oh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Ql(n)),e.p.push(new Ql(rl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ql(rl.keyField(),u))}}}return e.p}function ch(t){var e=Bc(t);if(!e.T)if("F"===e.limitType)e.T=Ll(e.path,e.collectionGroup,uh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=uh(e);r<i.length;r++){var o=i[r];n.push(new Ql(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new $l(e.endAt.position,!e.endAt.before):null,a=e.startAt?new $l(e.startAt.position,!e.startAt.before):null;e.T=Ll(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function lh(t,e,n){return new th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return Ml(ch(t),ch(e))&&t.limitType===e.limitType}function fh(t){return Fl(ch(t))+"|lt:"+t.limitType}function dh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Tl(e.value);var e}).join(", ")+"]"),dl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Wl(t.startAt)),t.endAt&&(e+=", endAt: "+Wl(t.endAt)),"Target("+e+")"}(ch(t))+"; limitType="+t.limitType+")"}function ph(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ml.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Yl(t.startAt,uh(t),e)||t.endAt&&Yl(t.endAt,uh(t),e))}(t,e)}function gh(t){return function(e,n){for(var r=!1,i=0,o=uh(t);i<o.length;i++){var s=o[i],a=mh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function mh(t,e,n){var r=t.field.isKeyField()?ml.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?wl(r,i):qc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qc()}}function yh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pl(e)?"-0":e}}function vh(t){return{integerValue:""+t}}function bh(t,e){return gl(e)?vh(e):yh(t,e)}var wh=function(){this._=void 0};function _h(t,e,n){return t instanceof Eh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ih?Ch(t,e):t instanceof xh?Ah(t,e):function(t,e){var n=Sh(t,e),r=Oh(n)+Oh(t.A);return Il(n)&&Il(t.A)?vh(r):yh(t.R,r)}(t,e)}function Th(t,e,n){return t instanceof Ih?Ch(t,e):t instanceof xh?Ah(t,e):n}function Sh(t,e){return t instanceof kh?Il(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e}(wh),Ih=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Nc.ZT)(e,t),e}(wh);function Ch(t,e){for(var n=Nh(e),r=function(t){n.some(function(e){return vl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Nc.ZT)(e,t),e}(wh);function Ah(t,e){for(var n=Nh(e),r=function(t){n=n.filter(function(e){return!vl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Nc.ZT)(e,t),e}(wh);function Oh(t){return ul(t.integerValue||t.doubleValue)}function Nh(t){return Cl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Dh=function(t,e){this.field=t,this.transform=e},Rh=function(t,e){this.version=t,this.transformResults=e},Ph=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Lh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Fh=function(){};function Mh(t,e,n){t instanceof Gh?function(t,e,n){var r=t.value.clone(),i=zh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bh?function(t,e,n){if(Lh(t.precondition,e)){var r=zh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Hh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Uh(t,e,n){t instanceof Gh?function(t,e,n){if(Lh(t.precondition,e)){var r=t.value.clone(),i=Zh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(qh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Bh?function(t,e,n){if(Lh(t.precondition,e)){var r=Zh(t.fieldTransforms,n,e),i=e.data;i.setAll(Hh(t)),i.setAll(r),e.convertToFoundDocument(qh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Lh(t.precondition,e)&&e.convertToNoDocument(Qc.min())}(t,e)}function jh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Sh(o.transform,s||null);null!=a&&(null==n&&(n=Nl.empty()),n.set(o.field,a))}return n||null}function Vh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Kc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ih&&e instanceof Ih||t instanceof xh&&e instanceof xh?Kc(t.elements,e.elements,vl):t instanceof kh&&e instanceof kh?vl(t.A,e.A):t instanceof Eh&&e instanceof Eh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function qh(t){return t.isFoundDocument()?t.version:Qc.min()}var Gh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Nc.ZT)(e,t),e}(Fh),Bh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Nc.ZT)(e,t),e}(Fh);function Hh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function zh(t,e,n){var r=new Map;Gc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Th(s,a,n[i]))}return r}function Zh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,_h(a,u,e))}return r}var Kh,$h,Wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Nc.ZT)(e,t),e}(Fh),Qh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Nc.ZT)(e,t),e}(Fh),Jh=function(t){this.count=t};function Yh(t){switch(t){case Rc.OK:return qc();case Rc.CANCELLED:case Rc.UNKNOWN:case Rc.DEADLINE_EXCEEDED:case Rc.RESOURCE_EXHAUSTED:case Rc.INTERNAL:case Rc.UNAVAILABLE:case Rc.UNAUTHENTICATED:return!1;case Rc.INVALID_ARGUMENT:case Rc.NOT_FOUND:case Rc.ALREADY_EXISTS:case Rc.PERMISSION_DENIED:case Rc.FAILED_PRECONDITION:case Rc.ABORTED:case Rc.OUT_OF_RANGE:case Rc.UNIMPLEMENTED:case Rc.DATA_LOSS:return!0;default:return qc()}}function Xh(t){if(void 0===t)return Uc("GRPC error has no .code"),Rc.UNKNOWN;switch(t){case Kh.OK:return Rc.OK;case Kh.CANCELLED:return Rc.CANCELLED;case Kh.UNKNOWN:return Rc.UNKNOWN;case Kh.DEADLINE_EXCEEDED:return Rc.DEADLINE_EXCEEDED;case Kh.RESOURCE_EXHAUSTED:return Rc.RESOURCE_EXHAUSTED;case Kh.INTERNAL:return Rc.INTERNAL;case Kh.UNAVAILABLE:return Rc.UNAVAILABLE;case Kh.UNAUTHENTICATED:return Rc.UNAUTHENTICATED;case Kh.INVALID_ARGUMENT:return Rc.INVALID_ARGUMENT;case Kh.NOT_FOUND:return Rc.NOT_FOUND;case Kh.ALREADY_EXISTS:return Rc.ALREADY_EXISTS;case Kh.PERMISSION_DENIED:return Rc.PERMISSION_DENIED;case Kh.FAILED_PRECONDITION:return Rc.FAILED_PRECONDITION;case Kh.ABORTED:return Rc.ABORTED;case Kh.OUT_OF_RANGE:return Rc.OUT_OF_RANGE;case Kh.UNIMPLEMENTED:return Rc.UNIMPLEMENTED;case Kh.DATA_LOSS:return Rc.DATA_LOSS;default:return qc()}}($h=Kh||(Kh={}))[$h.OK=0]="OK",$h[$h.CANCELLED=1]="CANCELLED",$h[$h.UNKNOWN=2]="UNKNOWN",$h[$h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$h[$h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$h[$h.NOT_FOUND=5]="NOT_FOUND",$h[$h.ALREADY_EXISTS=6]="ALREADY_EXISTS",$h[$h.PERMISSION_DENIED=7]="PERMISSION_DENIED",$h[$h.UNAUTHENTICATED=16]="UNAUTHENTICATED",$h[$h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$h[$h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$h[$h.ABORTED=10]="ABORTED",$h[$h.OUT_OF_RANGE=11]="OUT_OF_RANGE",$h[$h.UNIMPLEMENTED=12]="UNIMPLEMENTED",$h[$h.INTERNAL=13]="INTERNAL",$h[$h.UNAVAILABLE=14]="UNAVAILABLE",$h[$h.DATA_LOSS=15]="DATA_LOSS";var tf=function(){function t(t,e){this.comparator=t,this.root=e||nf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ef(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ef(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ef(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ef(this.root,t,this.comparator,!0)},t}(),ef=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),nf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw qc();if(this.right.isRed())throw qc();var t=this.left.check();if(t!==this.right.check())throw qc();return t+(this.isRed()?0:1)},t}();nf.EMPTY=null,nf.RED=!0,nf.BLACK=!1,nf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw qc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw qc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw qc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw qc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw qc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new nf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var rf=function(){function t(t){this.comparator=t,this.data=new tf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new of(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new of(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),of=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),sf=new tf(ml.comparator);function af(){return sf}var uf=new tf(ml.comparator);function cf(){return uf}var lf=new tf(ml.comparator);function hf(){return lf}var ff=new rf(ml.comparator);function df(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ff,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var pf=new rf(Zc);function gf(){return pf}var mf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Qc.min(),r,gf(),af(),df())},t}(),yf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ol.EMPTY_BYTE_STRING,n,df(),df(),df())},t}(),vf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},bf=function(t,e){this.targetId=t,this.V=e},wf=function(t,e,n,r){void 0===n&&(n=ol.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_f=function(){function t(){this.S=0,this.D=Ef(),this.C=ol.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=df(),e=df(),n=df();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:qc()}}),new yf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ef()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Tf=function(){function t(t){this.W=t,this.G=new Map,this.H=af(),this.J=Sf(),this.Y=new rf(Zc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:qc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ul(i))if(0===n){var o=new ml(i.path);this.tt(e,o,Rl.newNoDocument(o,Qc.min()))}else Gc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Ul(o.target)){var s=new ml(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Rl.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=df();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new mf(t,n,this.Y,this.H,r);return this.H=af(),this.J=Sf(),this.Y=new rf(Zc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new _f,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new rf(Zc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Mc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new _f),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Sf(){return new tf(ml.comparator)}function Ef(){return new tf(ml.comparator)}var If={asc:"ASCENDING",desc:"DESCENDING"},Cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xf=function(t,e){this.databaseId=t,this.I=e};function Af(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function kf(t,e){return t.I?e.toBase64():e.toUint8Array()}function Of(t,e){return Af(t,e.toTimestamp())}function Nf(t){return Gc(!!t),Qc.fromTimestamp(function(t){var e=al(t);return new Wc(e.seconds,e.nanos)}(t))}function Df(t,e){return function(t){return new el(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Rf(t){var e=el.fromString(t);return Gc(rd(e)),e}function Pf(t,e){return Df(t.databaseId,e.path)}function Lf(t,e){var n=Rf(e);if(n.get(1)!==t.databaseId.projectId)throw new Pc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ml(jf(n))}function Ff(t,e){return Df(t.databaseId,e)}function Mf(t){var e=Rf(t);return 4===e.length?el.emptyPath():jf(e)}function Uf(t){return new el(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jf(t){return Gc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Vf(t,e,n){return{name:Pf(t,e),fields:n.value.mapValue.fields}}function qf(t,e,n){var r=Lf(t,e.name),i=Nf(e.updateTime),o=new Nl({mapValue:{fields:e.fields}}),s=Rl.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Gf(t,e){var n;if(e instanceof Gh)n={update:Vf(t,e.key,e.value)};else if(e instanceof Wh)n={delete:Pf(t,e.key)};else if(e instanceof Bh)n={update:Vf(t,e.key,e.data),updateMask:nd(e.fieldMask)};else{if(!(e instanceof Qh))return qc();n={verify:Pf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Eh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ih)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw qc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Of(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qc()}(t,e.precondition)),n}function Bf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ph.updateTime(Nf(t.updateTime)):void 0!==t.exists?Ph.exists(t.exists):Ph.none()}(e.currentDocument):Ph.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Gc("REQUEST_TIME"===e.setToServerValue),n=new Eh):"appendMissingElements"in e?n=new Ih(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xh(e.removeAllFromArray.values||[]):"increment"in e?n=new kh(t,e.increment):qc();var r=rl.fromServerFormat(e.fieldPath);return new Dh(r,n)}(t,e)}):[];if(e.update){var i=Lf(t,e.update.name),o=new Nl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new il((t.fieldPaths||[]).map(function(t){return rl.fromServerFormat(t)}))}(e.updateMask);return new Bh(i,o,s,n,r)}return new Gh(i,o,n,r)}if(e.delete){var a=Lf(t,e.delete);return new Wh(a,n)}if(e.verify){var u=Lf(t,e.verify);return new Qh(u,n)}return qc()}function Hf(t,e){return{documents:[Ff(t,e.path)]}}function zf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ff(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ff(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Al(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NAN"}};if(xl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Al(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NAN"}};if(xl(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(t.field),op:Jf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Yf(t.field),direction:Qf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||dl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=$f(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$f(e.endAt)),n}function Zf(t){var e=Mf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Kf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ql(Xf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return dl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Wf(n.startAt));var l=null;return n.endAt&&(l=Wf(n.endAt)),eh(e,i,a,s,u,"F",c,l)}function Kf(t){return t?void 0!==t.unaryFilter?[ed(t)]:void 0!==t.fieldFilter?[td(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Kf(t)}).reduce(function(t,e){return t.concat(e)}):qc():[]}function $f(t){return{before:t.before,values:t.position}}function Wf(t){return new $l(t.values||[],!!t.before)}function Qf(t){return If[t]}function Jf(t){return Cf[t]}function Yf(t){return{fieldPath:t.canonicalString()}}function Xf(t){return rl.fromServerFormat(t.fieldPath)}function td(t){return jl.create(Xf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return qc()}}(t.fieldFilter.op),t.fieldFilter.value)}function ed(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xf(t.unaryFilter.field);return jl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xf(t.unaryFilter.field);return jl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xf(t.unaryFilter.field);return jl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xf(t.unaryFilter.field);return jl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return qc()}}function nd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function rd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function id(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=sd(e)),e=od(t.get(n),e);return sd(e)}function od(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function sd(t){return t+"\x01\x01"}function ad(t){var e=t.length;if(Gc(e>=2),2===e)return Gc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),el.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&qc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:qc()}o=s+2}return new el(r)}var ud=function(t,e){this.seconds=t,this.nanoseconds=e},cd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};cd.store="owner",cd.key="owner";var ld=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ld.store="mutationQueues",ld.keyPath="userId";var hd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};hd.store="mutations",hd.keyPath="batchId",hd.userMutationsIndex="userMutationsIndex",hd.userMutationsKeyPath=["userId","batchId"];var fd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,id(e)]},t.key=function(t,e,n){return[t,id(e),n]},t}();fd.store="documentMutations",fd.PLACEHOLDER=new fd;var dd=function(t,e){this.path=t,this.readTime=e},pd=function(t,e){this.path=t,this.version=e},gd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};gd.store="remoteDocuments",gd.readTimeIndex="readTimeIndex",gd.readTimeIndexPath="readTime",gd.collectionReadTimeIndex="collectionReadTimeIndex",gd.collectionReadTimeIndexPath=["parentPath","readTime"];var md=function(t){this.byteSize=t};md.store="remoteDocumentGlobal",md.key="remoteDocumentGlobalKey";var yd=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};yd.store="targets",yd.keyPath="targetId",yd.queryTargetsIndexName="queryTargetsIndex",yd.queryTargetsKeyPath=["canonicalId","targetId"];var vd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};vd.store="targetDocuments",vd.keyPath=["targetId","path"],vd.documentTargetsIndex="documentTargetsIndex",vd.documentTargetsKeyPath=["path","targetId"];var bd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};bd.key="targetGlobalKey",bd.store="targetGlobal";var wd=function(t,e){this.collectionId=t,this.parent=e};wd.store="collectionParents",wd.keyPath=["collectionId","parent"];var _d=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_d.store="clientMetadata",_d.keyPath="clientId";var Td=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Td.store="bundles",Td.keyPath="bundleId";var Sd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Sd.store="namedQueries",Sd.keyPath="name";var Ed=(0,Nc.ev)((0,Nc.ev)([],(0,Nc.ev)((0,Nc.ev)([],(0,Nc.ev)((0,Nc.ev)([],(0,Nc.ev)((0,Nc.ev)([],[ld.store,hd.store,fd.store,gd.store,yd.store,cd.store,bd.store,vd.store]),[_d.store])),[md.store])),[wd.store])),[Td.store,Sd.store]),Id="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cd=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),xd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ad=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&qc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),kd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new xd,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Dd(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Md(e.target.error);n.ft.reject(new Dd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Dd(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Mc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pd(e)},t}(),Od=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,_o.z$)())&&Uc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Mc("SimpleDb","Removing database:",t),Ld(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,_o.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Mc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Dd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Pc(Rc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Dd(t,n))},i.onupgradeneeded=function(t){Mc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Mc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Nc.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Nc.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Nc.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=kd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ad.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Mc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Nd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ld(this.Pt.delete())},t}(),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,Rc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Nc.ZT)(e,t),e}(Pc);function Rd(t){return"IndexedDbTransactionError"===t.name}var Pd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Mc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Mc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ld(n)},t.prototype.add=function(t){return Mc("SimpleDb","ADD",this.store.name,t,t),Ld(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ld(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Mc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Mc("SimpleDb","DELETE",this.store.name,t),Ld(this.store.delete(t))},t.prototype.count=function(){return Mc("SimpleDb","COUNT",this.store.name),Ld(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Mc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ad(function(n,r){e.onerror=function(t){var e=Md(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ad(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Nd(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ad){var a=s.catch(function(t){return o.done(),Ad.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ad.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ld(t){return new Ad(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Md(t.target.error);n(e)}})}var Fd=!1;function Md(t){var e=Od._t((0,_o.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Pc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Fd||(Fd=!0,setTimeout(function(){throw r},0)),r}}return t}var Ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Nc.ZT)(e,t),e}(Cd);function jd(t,e){var n=Bc(t);return Od.It(n.Mt,e)}var Vd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Mh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Uh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Uh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Qc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},df())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Kc(this.mutations,t.mutations,function(t,e){return Vh(t,e)})&&Kc(this.baseMutations,t.baseMutations,function(t,e){return Vh(t,e)})},t}(),qd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Gc(e.mutations.length===r.length);for(var i=hf(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Gd=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Qc.min()),void 0===o&&(o=Qc.min()),void 0===s&&(s=ol.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Bd=function(t){this.Lt=t};function Hd(t,e){if(e.document)return qf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ml.fromSegments(e.noDocument.path),r=Wd(e.noDocument.readTime),i=Rl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ml.fromSegments(e.unknownDocument.path);return r=Wd(e.unknownDocument.version),Rl.newUnknownDocument(o,r)}return qc()}function zd(t,e,n){var r=Zd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Pf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Af(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new gd(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=$d(e.version);return s=e.hasCommittedMutations,new gd(null,new dd(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=$d(e.version);return new gd(new pd(c,l),null,null,!0,r,i)}return qc()}function Zd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Kd(t){var e=new Wc(t[0],t[1]);return Qc.fromTimestamp(e)}function $d(t){var e=t.toTimestamp();return new ud(e.seconds,e.nanoseconds)}function Wd(t){var e=new Wc(t.seconds,t.nanoseconds);return Qc.fromTimestamp(e)}function Qd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Bf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Bf(t.Lt,e)}),o=Wc.fromMillis(e.localWriteTimeMs);return new Vd(e.batchId,o,n,i)}function Jd(t){var e,n,r=Wd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wd(t.lastLimboFreeSnapshotVersion):Qc.min();return void 0!==t.query.documents?(Gc(1===(n=t.query).documents.length),e=ch(nh(Mf(n.documents[0])))):e=function(t){return ch(Zf(t))}(t.query),new Gd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ol.fromBase64String(t.resumeToken))}function Yd(t,e){var n,r=$d(e.snapshotVersion),i=$d(e.lastLimboFreeSnapshotVersion);n=Ul(e.target)?Hf(t.Lt,e.target):zf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new yd(e.targetId,Fl(e.target),r,o,e.sequenceNumber,i,n)}function Xd(t){var e=Zf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?lh(e,e.limit,"L"):e}var tp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return ep(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Wd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return ep(t).put({bundleId:(n=e).id,createTime:$d(Nf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return np(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Xd(e.bundledQuery),readTime:Wd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return np(t).put(function(t){return{name:t.name,readTime:$d(Nf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ep(t){return jd(t,Td.store)}function np(t){return jd(t,Sd.store)}var rp=function(){function t(){this.Bt=new ip}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ad.resolve()},t.prototype.getCollectionParents=function(t,e){return Ad.resolve(this.Bt.getEntries(e))},t}(),ip=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new rf(el.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rf(el.comparator)).toArray()},t}(),op=function(){function t(){this.qt=new ip}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:id(i)};return sp(t).put(o)}return Ad.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[$c(e),""],!1,!0);return sp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ad(o.parent))}return n})},t}();function sp(t){return jd(t,wd.store)}var ap={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},up=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function cp(t,e,n){var r=t.store(hd.store),i=t.store(fd.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Gc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=fd.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ad.waitFor(o).next(function(){return c})}function lp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw qc();e=t.noDocument}return JSON.stringify(e).length}up.DEFAULT_COLLECTION_PERCENTILE=10,up.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,up.DEFAULT=new up(41943040,up.DEFAULT_COLLECTION_PERCENTILE,up.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),up.DISABLED=new up(-1,0,0);var hp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Gc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dp(t).$t({index:hd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=pp(t),s=dp(t);return s.add({}).next(function(a){Gc("number"==typeof a);for(var u=new Vd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Gf(t.Lt,e)}),i=n.mutations.map(function(e){return Gf(t.Lt,e)});return new hd(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new rf(function(t,e){return Zc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=fd.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,fd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Ad.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return dp(t).get(e).next(function(t){return t?(Gc(t.userId===n.userId),Qd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Ad.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return dp(t).$t({index:hd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Gc(e.batchId>=r),o=Qd(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dp(t).$t({index:hd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dp(t).Nt(hd.userMutationsIndex,n).next(function(t){return t.map(function(t){return Qd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=fd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return pp(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=ad(r[1]);if(a===n.userId&&e.path.isEqual(c))return dp(t).get(u).next(function(t){if(!t)throw qc();Gc(t.userId===n.userId),o.push(Qd(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new rf(Zc),i=[];return e.forEach(function(e){var o=fd.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=pp(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=ad(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ad.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=fd.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new rf(Zc);return pp(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=ad(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(dp(t).get(e).next(function(t){if(null===t)throw qc();Gc(t.userId===n.userId),r.push(Qd(n.R,t))}))}),Ad.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return cp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ad.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ad.resolve();var r=IDBKeyRange.lowerBound(fd.prefixForUser(e.userId)),i=[];return pp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=ad(t[1]);i.push(o)}else r.done()}).next(function(){Gc(0===i.length)})})},t.prototype.containsKey=function(t,e){return fp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return gp(t).get(this.userId).next(function(t){return t||new ld(e.userId,-1,"")})},t}();function fp(t,e,n){var r=fd.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return pp(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function dp(t){return jd(t,hd.store)}function pp(t){return jd(t,fd.store)}function gp(t){return jd(t,ld.store)}var mp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),yp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new mp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Qc.fromTimestamp(new Wc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return vp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Gc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return vp(t).$t(function(s,a){var u=Jd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Ad.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return vp(t).$t(function(t,n){var r=Jd(n);e(r)})},t.prototype.Xt=function(t){return bp(t).get(bd.key).next(function(t){return Gc(null!==t),t})},t.prototype.Zt=function(t,e){return bp(t).put(bd.key,e)},t.prototype.te=function(t,e){return vp(t).put(Yd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Fl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vp(t).$t({range:r,index:yd.queryTargetsIndexName},function(t,n,r){var o=Jd(n);Ml(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=wp(t);return e.forEach(function(e){var s=id(e.path);i.push(o.put(new vd(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ad.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=wp(t);return Ad.forEach(e,function(e){var o=id(e.path);return Ad.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=wp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=wp(t),i=df();return r.$t({range:n,kt:!0},function(t,e,n){var r=ad(t[1]),o=new ml(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=id(e.path),r=IDBKeyRange.bound([n],[$c(n)],!1,!0),i=0;return wp(t).$t({index:vd.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return vp(t).get(e).next(function(t){return t?Jd(t):null})},t}();function vp(t){return jd(t,yd.store)}function bp(t){return jd(t,bd.store)}function wp(t){return jd(t,vd.store)}function _p(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){if(t.code!==Rc.FAILED_PRECONDITION||t.message!==Id)throw t;return Mc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Tp(t,e){var n=t[1],r=e[1],i=Zc(t[0],e[0]);return 0===i?Zc(n,r):i}var Sp=function(){function t(t){this.ne=t,this.buffer=new rf(Tp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Tp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ep=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Mc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Nc.mG)(e,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Rd(e=n.sent())?(Mc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,_p(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Ip=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ad.resolve(Dc.o);var r=new Sp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Mc("LruGarbageCollector","Garbage collection skipped; disabled"),Ad.resolve(ap)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Mc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ap):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Mc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Fc()<=To.in.DEBUG&&Mc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ad.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Cp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ip(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return xp(t,n)},t.prototype.removeReference=function(t,e,n){return xp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return xp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return gp(t).Ot(function(r){return fp(t,r,e).next(function(t){return t&&(n=!0),Ad.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),wp(t).delete([0,id(s.path)])})});i.push(u)}}).next(function(){return Ad.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return xp(t,e)},t.prototype.we=function(t,e){var n,r=wp(t),i=Dc.o;return r.$t({index:vd.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Dc.o&&e(new ml(ad(n)),i),i=s,n=o):i=Dc.o}).next(function(){i!==Dc.o&&e(new ml(ad(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function xp(t,e){return wp(t).put(function(t,e){return new vd(0,id(t.path),e)}(e,t.currentSequenceNumber))}var Ap=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Yc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Xc(this.inner)},t}(),kp=function(){function t(){this.changes=new Ap(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Qc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Rl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ad.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Op=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Rp(t).put(Pp(e),n)},t.prototype.removeEntry=function(t,e){var n=Rp(t),r=Pp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Rp(t).get(Pp(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Rp(t).get(Pp(e)).next(function(t){return{document:n.ye(e,t),size:lp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=af();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=af(),i=new tf(ml.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,lp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ad.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Rp(t).$t({range:r},function(t,e,r){for(var s=ml.fromSegments(t);o&&ml.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=af(),o=e.path.length+1,s={};if(n.isEqual(Qc.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Zd(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=gd.collectionReadTimeIndex}return Rp(t).$t(s,function(t,n,s){if(t.length===o){var a=Hd(r.R,n);e.path.isPrefixOf(a.key.path)?ph(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Np(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Dp(t).get(md.key).next(function(t){return Gc(!!t),t})},t.prototype.me=function(t,e){return Dp(t).put(md.key,e)},t.prototype.ye=function(t,e){if(e){var n=Hd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Qc.min()))return n}return Rl.newInvalidDocument(t)},t}(),Np=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ap(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Nc.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new rf(function(t,e){return Zc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=zd(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=lp(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=zd(e.Ie.R,Rl.newNoDocument(o,Qc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ad.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(kp);function Dp(t){return jd(t,md.store)}function Rp(t){return jd(t,gd.store)}function Pp(t){return t.path.toArray()}var Lp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Gc(n<r&&n>=0&&r<=11);var o=new kd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(cd.store)}(t),function(t){t.createObjectStore(ld.store,{keyPath:ld.keyPath}),t.createObjectStore(hd.store,{keyPath:hd.keyPath,autoIncrement:!0}).createIndex(hd.userMutationsIndex,hd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fd.store)}(t),Fp(t),function(t){t.createObjectStore(gd.store)}(t));var s=Ad.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(vd.store),t.deleteObjectStore(yd.store),t.deleteObjectStore(bd.store)}(t),Fp(t)),s=s.next(function(){return function(t){var e=t.store(bd.store),n=new bd(0,0,Qc.min().toTimestamp(),0);return e.put(bd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(hd.store).Nt().next(function(n){t.deleteObjectStore(hd.store),t.createObjectStore(hd.store,{keyPath:hd.keyPath,autoIncrement:!0}).createIndex(hd.userMutationsIndex,hd.userMutationsKeyPath,{unique:!0});var r=e.store(hd.store),i=n.map(function(t){return r.put(t)});return Ad.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(_d.store,{keyPath:_d.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(md.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(gd.store);e.createIndex(gd.readTimeIndex,gd.readTimeIndexPath,{unique:!1}),e.createIndex(gd.collectionReadTimeIndex,gd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Td.store,{keyPath:Td.keyPath})}(t),function(t){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(gd.store).$t(function(t,n){e+=lp(n)}).next(function(){var n=new md(e);return t.store(md.store).put(md.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ld.store),r=t.store(hd.store);return n.Nt().next(function(n){return Ad.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(hd.userMutationsIndex,i).next(function(r){return Ad.forEach(r,function(r){Gc(r.userId===n.userId);var i=Qd(e.R,r);return cp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(vd.store),n=t.store(gd.store);return t.store(bd.store).get(bd.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new el(n),s=function(t){return[0,id(t)]}(o);r.push(e.get(s).next(function(n){return n?Ad.resolve():function(n){return e.put(new vd(0,id(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ad.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(wd.store,{keyPath:wd.keyPath});var n=e.store(wd.store),r=new ip,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:id(i)})}};return e.store(gd.store).$t({kt:!0},function(t,e){var n=new el(t);return i(n.popLast())}).next(function(){return e.store(fd.store).$t({kt:!0},function(t,e){var n=ad(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(yd.store);return n.$t(function(t,r){var i=Jd(r),o=Yd(e.R,i);return n.put(o)})},t}();function Fp(t){t.createObjectStore(vd.store,{keyPath:vd.keyPath}).createIndex(vd.documentTargetsIndex,vd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(yd.store,{keyPath:yd.keyPath}).createIndex(yd.queryTargetsIndexName,yd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(bd.store)}var Mp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Up=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Pc(Rc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cp(this,i),this.Le=n+"main",this.R=new Bd(u),this.Be=new Od(this.Le,11,new Lp(this.R)),this.qe=new yp(this.referenceDelegate,this.R),this.Ut=new op,this.Ue=function(t,e){return new Op(t,e)}(this.R,this.Ut),this.Qe=new tp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Uc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Pc(Rc.FAILED_PRECONDITION,Mp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Dc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Nc.mG)(e,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Nc.mG)(e,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Nc.mG)(e,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Vp(e).put(new _d(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Rd(e))return Mc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Mc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return jp(t).get(cd.key).next(function(t){return Ad.resolve(e.tn(t))})},t.prototype.en=function(t){return Vp(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=jd(t,_d.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ad.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ad.resolve(!0):jp(t).get(cd.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Pc(Rc.FAILED_PRECONDITION,Mp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Mc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t=this;return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[cd.store,_d.store],function(e){var n=new Ud(e,Dc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Vp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return hp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Mc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ed,function(o){return r=new Ud(o,i.Ne?i.Ne.next():Dc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Uc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Pc(Rc.FAILED_PRECONDITION,Id);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return jp(t).get(cd.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Pc(Rc.FAILED_PRECONDITION,Mp)})},t.prototype.Ze=function(t){var e=new cd(this.clientId,this.allowTabSynchronization,Date.now());return jp(t).put(cd.key,e)},t.yt=function(){return Od.yt()},t.prototype.Xe=function(t){var e=this,n=jp(t);return n.get(cd.key).next(function(t){return e.tn(t)?(Mc("IndexedDbPersistence","Releasing primary lease."),n.delete(cd.key)):Ad.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Uc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Mc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Uc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Uc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jp(t){return jd(t,cd.store)}function Vp(t){return jd(t,_d.store)}function qp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Gp=function(t,e){this.progress=t,this.wn=e},Bp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ml.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):ah(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ml(e)).next(function(t){var e=cf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=cf();return this.Ut.getCollectionParents(t,i).next(function(s){return Ad.forEach(s,function(s){var a=function(t,e){return new th(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Rl.newInvalidDocument(c),r=r.insert(c,l)),Uh(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ph(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=df(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Bh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Hp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=df(),i=df(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),zp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Qc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(rh(e)||ih(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Fc()<=To.in.DEBUG&&Mc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),dh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new rf(gh(t));return e.forEach(function(e,r){ph(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Fc()<=To.in.DEBUG&&Mc("QueryEngine","Using full collection scan to execute query:",dh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Qc.min())},t}(),Zp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new tf(Zc),this.kn=new Ap(function(t){return Fl(t)},Ml),this.$n=Qc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Bp(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Kp(t,e,n,r){return new Zp(t,e,n,r)}function $p(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Nc.Jh)(this,function(s){switch(s.label){case 0:return n=Bc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Bp(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=df(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Wp(t,e){var n=Bc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ad.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Gc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Qp(t){var e=Bc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Jp(t,e){var n=Bc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Gc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=af();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Yp(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Qc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Ad.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Yp(t,e,n,r,i){var o=df();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=af();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Qc.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Mc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Xp(t,e){var n=Bc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function tg(t,e){var n=Bc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ad.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Gd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function eg(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Nc.Jh)(this,function(a){switch(a.label){case 0:r=Bc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Rd(s=a.sent()))throw s;return Mc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function ng(t,e,n){var r=Bc(t),i=Qc.min(),o=df();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Bc(t),i=r.kn.get(n);return void 0!==i?Ad.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ch(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Qc.min(),n?o:df())}).next(function(t){return{documents:t,Bn:o}})})}function rg(t,e){var n=Bc(t),r=Bc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ig(t){var e=Bc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Bc(t),i=af(),o=Zd(n),s=Rp(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:gd.readTimeIndex,range:a},function(t,e){var n=Hd(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Kd(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function og(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){return[2,(e=Bc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Rp(t),n=Qc.min();return e.$t({index:gd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Kd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function sg(t,e,n,r){return(0,Nc.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,Nc.Jh)(this,function(p){switch(p.label){case 0:for(i=Bc(t),o=df(),s=af(),a=hf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,tg(i,function(t){return ch(nh(el.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Yp(t,f,s,Qc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ag(t,e,n){return void 0===n&&(n=df()),(0,Nc.mG)(this,void 0,void 0,function(){var r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return[4,tg(t,ch(Xd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Bc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Nf(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(ol.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var ug=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ad.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Nf(n.createTime)}),Ad.resolve()},t.prototype.getNamedQuery=function(t,e){return Ad.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Xd(t.bundledQuery),readTime:Nf(t.readTime)}}(e)),Ad.resolve()},t}(),cg=function(){function t(){this.Wn=new rf(lg.Gn),this.zn=new rf(lg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new lg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new lg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ml(new el([])),r=new lg(n,t),i=new lg(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ml(new el([])),n=new lg(e,t),r=new lg(e,t+1),i=df();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new lg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),lg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ml.comparator(t.key,e.key)||Zc(t.ns,e.ns)},t.Hn=function(t,e){return Zc(t.ns,e.ns)||ml.comparator(t.key,e.key)},t}(),hg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new rf(lg.Gn)}return t.prototype.checkEmpty=function(t){return Ad.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Vd(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new lg(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ad.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ad.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ad.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ad.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ad.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new lg(e,0),i=new lg(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Ad.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new rf(Zc);return e.forEach(function(t){var e=new lg(t,0),i=new lg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ad.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ml.isDocumentKey(i)||(i=i.child(""));var o=new lg(new ml(i),0),s=new rf(Zc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Ad.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Gc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ad.forEach(e.mutations,function(i){var o=new lg(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new lg(e,0),r=this.rs.firstAfterOrEqual(n);return Ad.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ad.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),fg=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new tf(ml.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ad.resolve(n?n.document.clone():Rl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=af();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Rl.newInvalidDocument(t))}),Ad.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=af(),i=new ml(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||ph(e,u)&&(r=r.insert(u.key,u.clone()))}return Ad.resolve(r)},t.prototype.fs=function(t,e){return Ad.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new dg(this)},t.prototype.getSize=function(t){return Ad.resolve(this.size)},t}(),dg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Nc.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ad.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(kp),pg=function(){function t(t){this.persistence=t,this.ds=new Ap(function(t){return Fl(t)},Ml),this.lastRemoteSnapshotVersion=Qc.min(),this.highestTargetId=0,this.ws=0,this._s=new cg,this.targetCount=0,this.ys=mp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ad.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ad.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ad.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ad.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ad.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new mp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ad.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ad.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ad.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ad.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ad.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ad.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ad.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ad.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ad.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ad.resolve(n)},t.prototype.containsKey=function(t,e){return Ad.resolve(this._s.containsKey(e))},t}(),gg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Dc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new pg(this),this.Ut=new rp,this.Ue=function(t,e){return new fg(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Bd(e),this.Qe=new ug(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new hg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Mc("MemoryPersistence","Starting transaction:",t);var i=new mg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ad.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),mg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Nc.ZT)(e,t),e}(Cd),yg=function(){function t(t){this.persistence=t,this.As=new cg,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw qc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ad.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ad.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ad.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ad.forEach(this.vs,function(r){var i=ml.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ad.or([function(){return Ad.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),vg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function bg(t,e){return"firestore_clients_"+t+"_"+e}function wg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function _g(t,e){return"firestore_targets_"+t+"_"+e}vg.UNAUTHENTICATED=new vg(null),vg.GOOGLE_CREDENTIALS=new vg("google-credentials-uid"),vg.FIRST_PARTY=new vg("first-party-uid");var Tg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Pc(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Uc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Pc(i.error.code,i.error.message)),o?new t(e,i.state,r):(Uc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Eg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=gf(),s=0;i&&s<r.activeTargetIds.length;++s)i=gl(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Uc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ig=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Uc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Cg=function(){function t(){this.activeTargetIds=gf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),xg=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new tf(Zc),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=bg(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Cg),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Nc.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(bg(this.persistenceKey,r)))&&(o=Eg.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(_g(this.persistenceKey,t));if(n){var r=Sg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(_g(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Mc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Mc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Mc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Mc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Uc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Nc.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Nc.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Dc.o;if(null!=t)try{var n=JSON.parse(t);Gc("number"==typeof n),e=n}catch(t){Uc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Dc.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Tg(this.currentUser,t,e,n),i=wg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=wg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=_g(this.persistenceKey,t),i=new Sg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Eg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Tg.Vs(new vg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Sg.Vs(r,e)},t.prototype.js=function(t){return Ig.Vs(t)},t.prototype.ii=function(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Mc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=gf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Ag=function(){function t(){this.li=new Cg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Cg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),kg=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Og=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Mc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Mc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ng={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dg=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Rg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Nc.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Oc;s.listenOnce(Cc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Ic.NO_ERROR:var e=s.getResponseJson();Mc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ic.TIMEOUT:Mc("Connection",'RPC "'+t+'" timed out'),o(new Pc(Rc.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:var n=s.getStatus();if(Mc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Rc).indexOf(e)>=0?e:Rc.UNKNOWN}(r.status);o(new Pc(a,r.message))}else o(new Pc(Rc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pc(Rc.UNAVAILABLE,"Connection failed."));break;default:qc()}}finally{Mc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new pc,i=ya(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ac({})),this.Fi(o.initMessageHeaders,e),(0,_o.uI)()||(0,_o.b$)()||(0,_o.d)()||(0,_o.w1)()||(0,_o.Mn)()||(0,_o.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Mc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Dg({Ei:function(t){c?Mc("Connection","Not sending because WebChannel is closed:",t):(u||(Mc("Connection","Opening WebChannel transport."),a.open(),u=!0),Mc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,kc.EventType.OPEN,function(){c||Mc("Connection","WebChannel transport opened.")}),h(a,kc.EventType.CLOSE,function(){c||(c=!0,Mc("Connection","WebChannel transport closed"),l.Vi())}),h(a,kc.EventType.ERROR,function(t){c||(c=!0,jc("Connection","WebChannel transport errored:",t),l.Vi(new Pc(Rc.UNAVAILABLE,"The operation could not be completed")))}),h(a,kc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Gc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Mc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Kh[t];if(void 0!==e)return Xh(e)}(i),s=r.message;void 0===o&&(o=Rc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Pc(o,s)),a.close()}else Mc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,xc.STAT_EVENT,function(t){10===t.stat?Mc("Connection","Detected buffering proxy"):11===t.stat&&Mc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Mc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Mc("RestConnection","Received: ",t),t},function(e){throw jc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.7",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ng[t]},t}());function Pg(){return"undefined"!=typeof window?window:null}function Lg(){return"undefined"!=typeof document?document:null}function Fg(t){return new xf(t,!0)}var Mg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Mc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ug=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Mg(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Rc.RESOURCE_EXHAUSTED?(Uc(e.toString()),Uc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Rc.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Pc(Rc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Nc.mG)(t,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Mc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Mc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),jg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Nc.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Gc(void 0===e||"string"==typeof e),ol.fromBase64String(e||"")):(Gc(void 0===e||e instanceof Uint8Array),ol.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Rc.UNKNOWN:Xh(t.code);return new Pc(e,t.message||"")}(a);n=new wf(r,i,o,s||null)}else if("documentChange"in e){i=Lf(t,(r=e.documentChange).document.name),o=Nf(r.document.updateTime);var a=new Nl({mapValue:{fields:r.document.fields}}),u=(s=Rl.newFoundDocument(i,o,a),r.targetIds||[]);n=new vf(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Lf(t,(r=e.documentDelete).document),o=r.readTime?Nf(r.readTime):Qc.min(),a=Rl.newNoDocument(i,o),n=new vf([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Lf(t,(r=e.documentRemove).document),n=new vf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return qc();var c=e.filter;i=new Jh(r=c.count||0),n=new bf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Qc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Qc.min():e.readTime?Nf(e.readTime):Qc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Uf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ul(r)?{documents:Hf(t,r)}:{query:zf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=kf(t,e.resumeToken):e.snapshotVersion.compareTo(Qc.min())>0&&(n.readTime=Af(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Uf(this.R),e.removeTarget=t,this.cr(e)},e}(Ug),Vg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Nc.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Gc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Gc(void 0!==e),t.map(function(t){return function(t,e){var n=Nf(t.updateTime?t.updateTime:e);return n.isEqual(Qc.min())&&(n=Nf(e)),new Rh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Nf(t.commitTime);return this.listener.Tr(n,e)}return Gc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Uf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Gf(e.R,t)})};this.cr(n)},e}(Ug),qg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Nc.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Pc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Rc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pc(Rc.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Rc.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pc(Rc.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Gg=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Uc(e),this.Vr=!1):Mc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Bg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Nc.mG)(o,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){switch(t.label){case 0:return Yg(this)?(Mc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return(e=Bc(t)).Or.add(4),[4,zg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Hg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Gg(n,r)};function Hg(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e,n;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:if(!Yg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zg(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e,n;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Zg(t,e){var n=Bc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Jg(n)?Qg(n):dm(n).er()&&$g(n,e))}function Kg(t,e){var n=Bc(t),r=dm(n);n.$r.delete(e),r.er()&&Wg(n,e),0===n.$r.size&&(r.er()?r.ir():Yg(n)&&n.Br.set("Unknown"))}function $g(t,e){t.qr.U(e.targetId),dm(t).mr(e)}function Wg(t,e){t.qr.U(e),dm(t).yr(e)}function Qg(t){t.qr=new Tf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),dm(t).start(),t.Br.Sr()}function Jg(t){return Yg(t)&&!dm(t).tr()&&t.$r.size>0}function Yg(t){return 0===Bc(t).Or.size}function Xg(t){t.qr=void 0}function tm(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){return t.$r.forEach(function(e,n){$g(t,e)}),[2]})})}function em(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(n){return Xg(t),Jg(t)?(t.Br.Nr(e),Qg(t)):t.Br.set("Unknown"),[2]})})}function nm(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Nc.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof wf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Nc.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Mc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,rm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vf?t.qr.X(e):e instanceof bf?t.qr.rt(e):t.qr.et(e),n.isEqual(Qc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Qp(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(ol.EMPTY_BYTE_STRING,n.snapshotVersion)),Wg(t,e);var r=new Gd(n.target,e,1,n.sequenceNumber);$g(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Mc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,rm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function rm(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r=this;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:if(!Rd(e))throw e;return t.Or.add(1),[4,zg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Qp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Nc.mG)(r,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return Mc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Hg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function im(t,e){return e().catch(function(n){return rm(t,n,e)})}function om(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Nc.Jh)(this,function(s){switch(s.label){case 0:e=Bc(t),n=pm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Yg(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Xp(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=pm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,rm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return sm(e)&&am(e),[2]}})})}function sm(t){return Yg(t)&&!pm(t).tr()&&t.kr.length>0}function am(t){pm(t).start()}function um(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){return pm(t).Ar(),[2]})})}function cm(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Nc.Jh)(this,function(i){for(e=pm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function lm(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=qd.from(r,e,n),[4,im(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,om(t)];case 2:return o.sent(),[2]}})})}function hm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return e&&pm(t).pr?[4,function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return Yh(r=e.code)&&r!==Rc.ABORTED?(n=t.kr.shift(),pm(t).sr(),[4,im(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,om(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sm(t)&&am(t),[2]}})})}function fm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return n=Bc(t),e?(n.Or.delete(2),[4,Hg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,zg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function dm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Bc(t);return r.br(),new jg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:tm.bind(null,t),Ri:em.bind(null,t),_r:nm.bind(null,t)}),t.Mr.push(function(n){return(0,Nc.mG)(e,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Jg(t)?Qg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Xg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function pm(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Bc(t);return r.br(),new Vg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:um.bind(null,t),Ri:hm.bind(null,t),Ir:cm.bind(null,t),Tr:lm.bind(null,t)}),t.Mr.push(function(n){return(0,Nc.mG)(e,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,om(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Mc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var gm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pc(Rc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function mm(t,e){if(Uc("AsyncQueue",e+": "+t),Rd(t))return new Pc(Rc.UNAVAILABLE,e+": "+t);throw t}var ym=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ml.comparator(e.key,n.key)}:function(t,e){return ml.comparator(t.key,e.key)},this.keyedMap=cf(),this.sortedSet=new tf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),vm=function(){function t(){this.Kr=new tf(ml.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):qc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),bm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ym.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),wm=function(){this.Wr=void 0,this.listeners=[]},_m=function(){this.queries=new Ap(function(t){return fh(t)},hh),this.onlineState="Unknown",this.Gr=new Set};function Tm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Nc.Jh)(this,function(c){switch(c.label){case 0:if(n=Bc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new wm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=mm(a,"Initialization of query '"+dh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Cm(n),[2]}})})}function Sm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Nc.Jh)(this,function(a){return n=Bc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Em(t,e){for(var n=Bc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Cm(n)}function Im(t,e,n){var r=Bc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Cm(t){t.Gr.forEach(function(t){t.next()})}var xm=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new bm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=bm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Am=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),km=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Lf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?qf(this.R,t.document,!1):Rl.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Nf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new km(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||df()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return[4,sg(this.localStore,new km(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ag(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Gp(Object.assign({},this.progress),t))]}})})}}();var Om=function(t){this.key=t},Nm=function(t){this.key=t},Dm=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=df(),this.mutatedKeys=df(),this.lo=gh(t),this.fo=new ym(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new vm,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=rh(this.query)&&i.size===this.query.limit?i.last():null,c=ih(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ph(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),rh(this.query)||ih(this.query))for(;s.size>this.query.limit;){var l=rh(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new bm(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=df(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Nm(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Om(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=df();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return bm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Rm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Pm=function(t){this.key=t,this.bo=!1},Lm=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ap(function(t){return fh(t)},hh),this.Vo=new Map,this.So=new Set,this.Do=new tf(ml.comparator),this.Co=new Map,this.No=new cg,this.xo={},this.Fo=new Map,this.ko=mp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Fm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Nc.Jh)(this,function(a){switch(a.label){case 0:return n=hy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,tg(n.localStore,ch(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Mm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Zg(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Mm(t,e,n,r){return(0,Nc.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Nc.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Nc.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Nc.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ng(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Qm(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,ng(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Dm(e,i.Bn),s=o._o(i.documents),a=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Qm(t,n,u.To),c=new Rm(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Um(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return n=Bc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!hh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,eg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Kg(n.remoteStore,r.targetId),$m(n,r.targetId)}).catch(_p)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return $m(n,r.targetId),[4,eg(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function jm(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Nc.Jh)(this,function(a){switch(a.label){case 0:r=fy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Bc(t),i=Wc.now(),o=e.reduce(function(t,e){return t.add(e.key)},df());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=jh(c,n.get(c.key));null!=l&&s.push(new Bh(c.key,l,Dl(l.value.mapValue),Ph.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new tf(Zc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Xm(r,i.changes)];case 3:return a.sent(),[4,om(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=mm(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Vm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:n=Bc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Jp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Gc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Gc(r.bo):t.removedDocuments.size>0&&(Gc(r.bo),r.bo=!1))}),[4,Xm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,_p(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function qm(t,e,n){var r=Bc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Bc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Cm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Gm(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Nc.Jh)(this,function(c){switch(c.label){case 0:return(r=Bc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new tf(ml.comparator)).insert(o,Rl.newNoDocument(o,Qc.min())),a=df().add(o),u=new mf(Qc.min(),new Map,new rf(Zc),s,a),[4,Vm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Ym(r),[3,4];case 2:return[4,eg(r.localStore,e,!1).then(function(){return $m(r,e,n)}).catch(_p)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Bm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:n=Bc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Wp(n.localStore,e)];case 2:return i=o.sent(),Km(n,r,null),Zm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Xm(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,_p(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hm(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:r=Bc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Bc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Gc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Km(r,e,n),Zm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Xm(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,_p(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zm(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Nc.Jh)(this,function(a){switch(a.label){case 0:Yg((n=Bc(t)).remoteStore)||Mc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Bc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=mm(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Zm(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Km(t,e,n){var r=Bc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function $m(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Wm(t,e)})}function Wm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Kg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ym(t))}function Qm(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Om?(t.No.addReference(o.key,e),Jm(t,o)):o instanceof Nm?(Mc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Wm(t,o.key)):qc()}}function Jm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Mc("SyncEngine","New document in limbo: "+n),t.So.add(r),Ym(t))}function Ym(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ml(el.fromString(e)),r=t.ko.next();t.Co.set(r,new Pm(n)),t.Do=t.Do.insert(n,r),Zg(t.remoteStore,new Gd(ch(nh(n.path)),r,2,Dc.o))}}function Xm(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Nc.Jh)(this,function(a){switch(a.label){case 0:return r=Bc(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Hp.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Nc.Jh)(this,function(l){switch(l.label){case 0:n=Bc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ad.forEach(e,function(e){return Ad.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ad.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Rd(r=l.sent()))throw r;return Mc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function ty(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return(n=Bc(t)).currentUser.isEqual(e)?[3,3]:(Mc("SyncEngine","User change. New user:",e.toKey()),[4,$p(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Pc(Rc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Xm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ey(t,e){var n=Bc(t),r=n.Co.get(e);if(r&&r.bo)return df().add(r.key);var i=df(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function ny(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return[4,ng((n=Bc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Qm(n,e.targetId,i.To),i)]}})})}function ry(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){return[2,ig((e=Bc(t)).localStore).then(function(t){return Xm(e,t)})]})})}function iy(t,e,n,r){return(0,Nc.mG)(this,void 0,void 0,function(){var i,o;return(0,Nc.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Bc(t),r=Bc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ad.resolve(null)})})}((i=Bc(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,om(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Km(i,e,r||null),Zm(i,e),function(t,e){Bc(Bc(t)._n).Gt(e)}(i.localStore,e)):qc(),s.label=4;case 4:return[4,Xm(i,o)];case 5:return s.sent(),[3,7];case 6:Mc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function oy(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Nc.Jh)(this,function(c){switch(c.label){case 0:return hy(n=Bc(t)),fy(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,sy(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,fm(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Zg(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return $m(n,e),eg(n.localStore,e,!0)}),Kg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,sy(n,a)];case 5:return c.sent(),function(t){var e=Bc(t);e.Co.forEach(function(t,n){Kg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new tf(ml.comparator)}(n),n.$o=!1,[4,fm(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function sy(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,Nc.Jh)(this,function(g){switch(g.label){case 0:n=Bc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,tg(n.localStore,ch(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,ny(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,rg(n.localStore,a)];case 8:return p=g.sent(),[4,tg(n.localStore,p)];case 9:return u=g.sent(),[4,Mm(n,ay(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ay(t){return eh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uy(t){var e=Bc(t);return Bc(Bc(e.localStore).persistence).fn()}function cy(t,e,n,r){return(0,Nc.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Nc.Jh)(this,function(a){switch(a.label){case 0:return(i=Bc(t)).$o?(Mc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ig(i.localStore)];case 3:return o=a.sent(),s=mf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Xm(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,eg(i.localStore,e,!0)];case 6:return a.sent(),$m(i,e,r),[3,8];case 7:qc(),a.label=8;case 8:return[2]}})})}function ly(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Nc.Jh)(this,function(f){switch(f.label){case 0:if(!(r=hy(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Mc("SyncEngine","Adding an already active target "+s),[3,5]):[4,rg(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,tg(r.localStore,a)];case 3:return u=f.sent(),[4,Mm(r,ay(a),u.targetId,!1)];case 4:f.sent(),Zg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,eg(r.localStore,t,!1).then(function(){Kg(r.remoteStore,t),$m(r,t)}).catch(_p)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function hy(t){var e=Bc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ey.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gm.bind(null,e),e.vo._r=Em.bind(null,e.eventManager),e.vo.Mo=Im.bind(null,e.eventManager),e}function fy(t){var e=Bc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hm.bind(null,e),e}var dy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return this.R=Fg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Kp(this.persistence,new zp,t.initialUser,this.R)},t.prototype.qo=function(t){return new gg(yg.bs,this.R)},t.prototype.Bo=function(t){return new Ag},t.prototype.terminate=function(){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),py=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Nc.ZT)(e,t),e.prototype.initialize=function(e){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,og(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,fy(this.Ko.syncEngine)];case 4:return n.sent(),[4,om(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Kp(this.persistence,new zp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Ep(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=qp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?up.withCacheSize(this.cacheSizeBytes):up.DEFAULT;return new Up(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Pg(),Lg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ag},e}(dy),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Nc.ZT)(e,t),e.prototype.initialize=function(e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof xg?(this.sharedClientState.syncEngine={ui:iy.bind(null,n),ai:cy.bind(null,n),hi:ly.bind(null,n),fn:uy.bind(null,n),ci:ry.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Nc.mG)(r,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return[4,oy(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Pg();if(!xg.yt(e))throw new Pc(Rc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=qp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xg(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(py),my=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n=this;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return qm(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ty.bind(null,this.syncEngine),[4,fm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new _m},t.prototype.createDatastore=function(t){var e=Fg(t.databaseInfo.databaseId),n=new Rg(t.databaseInfo);return function(t,e,n){return new qg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return qm(s.syncEngine,t,0)},o=Og.yt()?new Og:new kg,new Bg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Lm(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return e=Bc(t),Mc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,zg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),yy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),vy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new xd,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Am(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Pc(Rc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Nc.Jh)(this,function(u){switch(u.label){case 0:return n=Bc(t),r=Uf(n.R)+"/documents",i={documents:e.map(function(t){return Pf(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Gc(!!e.found);var n=Lf(t,e.found.name),r=Nf(e.found.updateTime),i=new Nl({mapValue:{fields:e.found.fields}});return Rl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Gc(!!e.missing),Gc(!!e.readTime);var n=Lf(t,e.missing),r=Nf(e.readTime);return Rl.newNoDocument(n,r)}(t,e):qc()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Gc(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Wh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ml.fromPath(n);e.mutations.push(new Qh(r,e.precondition(r)))}),[4,function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return n=Bc(t),r=Uf(n.R)+"/documents",i={writes:e.map(function(t){return Gf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qc();e=Qc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Pc(Rc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ph.updateTime(e):Ph.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Qc.min()))throw new Pc(Rc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ph.updateTime(e)}return Ph.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),by=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Mg(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Nc.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Nc.Jh)(this,function(r){return t=new vy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!dl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yh(e)}return!1},t}(),wy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=vg.UNAUTHENTICATED,this.clientId=zc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Nc.mG)(r,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return Mc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Pc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new xd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Nc.mG)(t,void 0,void 0,function(){var t,n;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=mm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function _y(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Mc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Nc.mG)(i,void 0,void 0,function(){return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,$p(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ty(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Sy(t)];case 1:return n=i.sent(),Mc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Nc.mG)(this,void 0,void 0,function(){var n,r;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return(n=Bc(t)).asyncQueue.verifyOperationInProgress(),Mc("RemoteStore","RemoteStore received new credentials"),r=Yg(n),n.Or.add(3),[4,zg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Hg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Sy(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Mc("FirestoreClient","Using default OfflineComponentProvider"),[4,_y(t,new dy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ey(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Mc("FirestoreClient","Using default OnlineComponentProvider"),[4,Ty(t,new my)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Iy(t){return Sy(t).then(function(t){return t.persistence})}function Cy(t){return Sy(t).then(function(t){return t.localStore})}function xy(t){return Ey(t).then(function(t){return t.remoteStore})}function Ay(t){return Ey(t).then(function(t){return t.syncEngine})}function ky(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e,n;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return[4,Ey(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Fm.bind(null,e.syncEngine),n.onUnlisten=Um.bind(null,e.syncEngine),n)]}})})}function Oy(t,e,n){var r=this;void 0===n&&(n={});var i=new xd;return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(r,void 0,void 0,function(){var r;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yy({next:function(o){e.enqueueAndForget(function(){return Sm(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Pc(Rc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Pc(Rc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new xm(nh(n.path),o,{includeMetadataChanges:!0,so:!0});return Tm(t,s)},[4,ky(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ny(t,e,n){var r=this;void 0===n&&(n={});var i=new xd;return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(r,void 0,void 0,function(){var r;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new yy({next:function(n){e.enqueueAndForget(function(){return Sm(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Pc(Rc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new xm(n,o,{includeMetadataChanges:!0,so:!0});return Tm(t,s)},[4,ky(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Dy=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Ry=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Py=new Map,Ly=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Fy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(vg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),My=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Uy=function(){function t(t){var e=this;this.currentUser=vg.UNAUTHENTICATED,this.oc=new xd,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Mc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Mc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Mc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Gc("string"==typeof n.accessToken),new Ly(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Nc.mG)(n,void 0,void 0,function(){return(0,Nc.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Gc(null===t||"string"==typeof t),new vg(t)},t}(),jy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=vg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Vy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new jy(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(vg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function qy(t,e,n){if(!n)throw new Pc(Rc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Gy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function By(t,e,n,r){if(!0===e&&!0===r)throw new Pc(Rc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hy(t){if(!ml.isDocumentKey(t))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function zy(t){if(ml.isDocumentKey(t))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":qc()}function Ky(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pc(Rc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zy(t);throw new Pc(Rc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $y(t,e){if(e<=0)throw new Pc(Rc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Wy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Pc(Rc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pc(Rc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,By("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Qy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,t instanceof Ry?(this._databaseId=t,this._credentials=new Fy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pc(Rc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ry(t.options.projectId)}(t),this._credentials=new Uy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Pc(Rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Pc(Rc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Fy;switch(t.type){case"gapi":var e=t.client;return Gc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pc(Rc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Py.get(this))&&(Mc("ComponentProvider","Removing Datastore"),Py.delete(this),t.terminate()),Promise.resolve();var t},t}(),Jy=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Yy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,nh(r))||this)._path=r,i.type="collection",i}return(0,Nc.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Jy(this.firestore,null,new ml(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Yy);function tv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,_o.m9)(t),qy("collection","path",e),t instanceof Qy)return zy(n=el.fromString.apply(el,(0,Nc.ev)([e],r))),new Xy(t,null,n);if(!(t instanceof Jy||t instanceof Xy))throw new Pc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zy(n=el.fromString.apply(el,(0,Nc.ev)([t.path],r)).child(el.fromString(e))),new Xy(t.firestore,null,n)}function ev(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,_o.m9)(t),1===arguments.length&&(e=zc.u()),qy("doc","path",e),t instanceof Qy)return Hy(n=el.fromString.apply(el,(0,Nc.ev)([e],r))),new Jy(t,null,new ml(n));if(!(t instanceof Jy||t instanceof Xy))throw new Pc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hy(n=t._path.child(el.fromString.apply(el,(0,Nc.ev)([e],r)))),new Jy(t.firestore,t instanceof Xy?t.converter:null,new ml(n))}function nv(t,e){return t=(0,_o.m9)(t),e=(0,_o.m9)(e),(t instanceof Jy||t instanceof Xy)&&(e instanceof Jy||e instanceof Xy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function rv(t,e){return t=(0,_o.m9)(t),e=(0,_o.m9)(e),t instanceof Yy&&e instanceof Yy&&t.firestore===e.firestore&&hh(t._query,e._query)&&t.converter===e.converter}var iv=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Mg(this,"async_queue_retry"),this.Tc=function(){var e=Lg();e&&Mc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Lg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Lg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Rd(t=n.sent()))throw t;return Mc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Uc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=gm.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&qc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return(0,Nc.mG)(this,void 0,void 0,function(){var t;return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function ov(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new xd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var sv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new iv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Nc.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||uv(this),this._firestoreClient.terminate()},e}(Qy);function av(t){return t._firestoreClient||uv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function uv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Dy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new wy(t._credentials,t._queue,r)}function cv(t,e,n){var r=this,i=new xd;return t.asyncQueue.enqueue(function(){return(0,Nc.mG)(r,void 0,void 0,function(){var r;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_y(t,n)];case 1:return o.sent(),[4,Ty(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Rc.FAILED_PRECONDITION||t.code===Rc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function lv(t){if(t._initialized||t._terminated)throw new Pc(Rc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),fv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ol.fromBase64String(e))}catch(e){throw new Pc(Rc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ol.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),dv=function(t){this._methodName=t},pv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pc(Rc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pc(Rc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Zc(this._lat,t._lat)||Zc(this._long,t._long)},t}(),gv=/^__.*__$/,mv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Bh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gh(t,this.data,e,this.fieldTransforms)},t}(),yv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Bh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function vv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qc()}}var bv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return jv(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(vv(this.Cc)&&gv.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),wv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Fg(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new bv({Cc:t,methodName:e,Bc:n,path:rl.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function _v(t){var e=t._freezeSettings(),n=Fg(t._databaseId);return new wv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);Lv("Data must be an object, but it was:",s,r);var a,u,c=Rv(r,s);if(o.merge)a=new il(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Fv(e,f[h],n);if(!s.contains(d))throw new Pc(Rc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Vv(l,d)||l.push(d)}a=new il(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new mv(new Nl(c),a,u)}var Sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(dv);function Ev(t,e,n){return new bv({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Dh(t.path,new Eh)},e.prototype.isEqual=function(t){return t instanceof e},e}(dv),Cv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,Nc.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Ev(this,t,!0),n=this.Uc.map(function(t){return Dv(t,e)}),r=new Ih(n);return new Dh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(dv),xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,Nc.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Ev(this,t,!0),n=this.Uc.map(function(t){return Dv(t,e)}),r=new xh(n);return new Dh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(dv),Av=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Nc.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new kh(t.R,bh(t.R,this.Qc));return new Dh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(dv);function kv(t,e,n,r){var i=t.qc(1,e,n);Lv("Data must be an object, but it was:",i,r);var o=[],s=Nl.empty();Yc(r,function(t,r){var a=Uv(e,t,n);r=(0,_o.m9)(r);var u=i.$c(a);if(r instanceof Sv)o.push(a);else{var c=Dv(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new il(o);return new yv(s,a,i.fieldTransforms)}function Ov(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Fv(e,r,n)],u=[i];if(o.length%2!=0)throw new Pc(Rc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Fv(e,o[c])),u.push(o[c+1]);for(var l=[],h=Nl.empty(),f=a.length-1;f>=0;--f)if(!Vv(l,a[f])){var d=a[f],p=u[f];p=(0,_o.m9)(p);var g=s.$c(d);if(p instanceof Sv)l.push(d);else{var m=Dv(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new il(l);return new yv(h,y,s.fieldTransforms)}function Nv(t,e,n,r){return void 0===r&&(r=!1),Dv(n,t.qc(r?4:3,e))}function Dv(t,e){if(Pv(t=(0,_o.m9)(t)))return Lv("Unsupported field value:",e,t),Rv(t,e);if(t instanceof dv)return function(t,e){if(!vv(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Dv(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,_o.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Wc.fromDate(t);return{timestampValue:Af(e.R,n)}}if(t instanceof Wc)return n=new Wc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Af(e.R,n)};if(t instanceof pv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fv)return{bytesValue:kf(e.R,t._byteString)};if(t instanceof Jy){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Df(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+Zy(t))}(t,e)}function Rv(t,e){var n={};return Xc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yc(t,function(t,r){var i=Dv(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Pv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Wc||t instanceof pv||t instanceof fv||t instanceof Jy||t instanceof dv)}function Lv(t,e,n){if(!Pv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Zy(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Fv(t,e,n){if((e=(0,_o.m9)(e))instanceof hv)return e._internalPath;if("string"==typeof e)return Uv(t,e);throw jv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Mv=new RegExp("[~\\*/\\[\\]]");function Uv(t,e,n){if(e.search(Mv)>=0)throw jv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(hv.bind.apply(hv,(0,Nc.ev)([void 0],e.split(".")))))._internalPath}catch(jo){throw jv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function jv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Pc(Rc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Vv(t,e){return t.some(function(t){return t.isEqual(e)})}var qv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jy(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Bv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(qv);function Bv(t,e){return"string"==typeof e?Uv(t,e):e instanceof hv?e._internalPath:e._delegate._internalPath}var Hv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Nc.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Bv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(qv),Zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(zv),Kv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Zv(n._firestore,n._userDataWriter,r.key,r,new Hv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pc(Rc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Zv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Zv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:$v(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function $v(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qc()}}function Wv(t,e){return t instanceof zv&&e instanceof zv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Kv&&e instanceof Kv&&t._firestore===e._firestore&&rv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Qv(t){if(ih(t)&&0===t.explicitOrderBy.length)throw new Pc(Rc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jv=function(){};function Yv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return(0,Nc.ZT)(e,t),e.prototype._apply=function(t){var e=_v(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){sb(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(ob(r,t,l[c]));a={arrayValue:{values:u}}}else a=ob(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||sb(s,o),a=Nv(n,"where",s,"in"===o||"not-in"===o);var h=jl.create(i,o,a);return function(t,e){if(e.g()){var n=sh(t);if(null!==n&&!n.isEqual(e.field))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=oh(t);null!==r&&ab(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Pc(Rc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new Yy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Jv),tb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return(0,Nc.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ql(e,n);return function(t,e){if(null===oh(t)){var n=sh(t);null!==n&&ab(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new Yy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new th(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Jv),eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return(0,Nc.ZT)(e,t),e.prototype._apply=function(t){return new Yy(t.firestore,t.converter,lh(t._query,this.zc,this.Hc))},e}(Jv),nb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Nc.ZT)(e,t),e.prototype._apply=function(t){var e=ib(t,this.type,this.Jc,this.Yc);return new Yy(t.firestore,t.converter,function(t,e){return new th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Jv),rb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Nc.ZT)(e,t),e.prototype._apply=function(t){var e=ib(t,this.type,this.Jc,this.Yc);return new Yy(t.firestore,t.converter,function(t,e){return new th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Jv);function ib(t,e,n,r){if(n[0]=(0,_o.m9)(n[0]),n[0]instanceof qv)return function(t,e,n,r,i){if(!r)throw new Pc(Rc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=uh(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(El(e,r.key));else{var c=r.data.field(u.field);if(ll(c))throw new Pc(Rc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new $l(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=_v(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Pc(Rc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ah(t)&&-1!==c.indexOf("/"))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(el.fromString(c));if(!ml.isDocumentKey(l))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ml(l);a.push(El(e,h))}else{var f=Nv(n,r,c);a.push(f)}}return new $l(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function ob(t,e,n){if("string"==typeof(n=(0,_o.m9)(n))){if(""===n)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ah(e)&&-1!==n.indexOf("/"))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(el.fromString(n));if(!ml.isDocumentKey(r))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return El(t,new ml(r))}if(n instanceof Jy)return El(t,n._key);throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zy(n)+".")}function sb(t,e){if(!Array.isArray(t)||0===t.length)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ab(t,e,n){if(!n.isEqual(e))throw new Pc(Rc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ub=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),yl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ul(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Yc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new pv(ul(t.latitude),ul(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=hl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(fl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=al(t);return new Wc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=el.fromString(t);Gc(rd(n));var r=new Ry(n.get(1),n.get(3)),i=new ml(n.popFirst(5));return r.isEqual(e)||Uc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function cb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var lb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Nc.ZT)(e,t),e.prototype.convertBytes=function(t){return new fv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jy(this.firestore,null,e)},e}(ub),hb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_v(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=fb(t,this._firestore),i=cb(r.converter,e,n),o=Tv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ph.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=fb(t,this._firestore);return o="string"==typeof(e=(0,_o.m9)(e))||e instanceof hv?Ov(this._dataReader,"WriteBatch.update",s._key,e,n,r):kv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ph.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=fb(t,this._firestore);return this._mutations=this._mutations.concat(new Wh(e._key,Ph.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Pc(Rc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function fb(t,e){if((t=(0,_o.m9)(t)).firestore!==e)throw new Pc(Rc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var db=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Nc.ZT)(e,t),e.prototype.convertBytes=function(t){return new fv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jy(this.firestore,null,e)},e}(ub);function pb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ky(t,Jy);var o=Ky(t.firestore,sv),s=_v(o);return mb(o,[("string"==typeof(e=(0,_o.m9)(e))||e instanceof hv?Ov(s,"updateDoc",t._key,e,n,r):kv(s,"updateDoc",t._key,e)).toMutation(t._key,Ph.exists(!0))])}function gb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,_o.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ov(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(ov(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Jy)c=Ky(t.firestore,sv),l=nh(t._key.path),u={next:function(e){i[a]&&i[a](yb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Ky(t,Yy);c=Ky(d.firestore,sv),l=d._query;var p=new db(c);u={next:function(t){i[a]&&i[a](new Kv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Qv(t._query)}return function(t,e,n,r){var i=this,o=new yy(r),s=new xm(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(i,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return e=Tm,[4,ky(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(i,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return e=Sm,[4,ky(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(av(c),l,h,u)}function mb(t,e){return function(t,e){var n=this,r=new xd;return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(n,void 0,void 0,function(){var n;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return n=jm,[4,Ay(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(av(t),e)}function yb(t,e,n){var r=n.docs.get(e._key),i=new db(t);return new zv(t,i,e._key,r,new Hv(n.hasPendingWrites,n.fromCache),e.converter)}var vb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Nc.ZT)(e,t),e.prototype.get=function(e){var n=this,r=fb(e,this._firestore),i=new db(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new zv(n._firestore,i,r._key,t._document,new Hv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=_v(t)}return t.prototype.get=function(t){var e=this,n=fb(t,this._firestore),r=new lb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return qc();var i=t[0];if(i.isFoundDocument())return new qv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new qv(e._firestore,r,n._key,null,n.converter);throw qc()})},t.prototype.set=function(t,e,n){var r=fb(t,this._firestore),i=cb(r.converter,e,n),o=Tv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=fb(t,this._firestore);return o="string"==typeof(e=(0,_o.m9)(e))||e instanceof hv?Ov(this._dataReader,"Transaction.update",s._key,e,n,r):kv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=fb(t,this._firestore);return this._transaction.delete(e._key),this},t}());function bb(){if("undefined"==typeof Uint8Array)throw new Pc(Rc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wb(){if("undefined"==typeof atob)throw new Pc(Rc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _b=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return wb(),new t(fv.fromBase64String(e))},t.fromUint8Array=function(e){return bb(),new t(fv.fromUint8Array(e))},t.prototype.toBase64=function(){return wb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return bb(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Tb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){lv(t=Ky(t,sv));var n=av(t),r=t._freezeSettings(),i=new my;return cv(n,i,new py(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){lv(t=Ky(t,sv));var e=av(t),n=t._freezeSettings(),r=new my;return cv(e,r,new gy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Pc(Rc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xd;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Nc.mG)(e,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Nc.mG)(this,void 0,void 0,function(){return(0,Nc.Jh)(this,function(e){switch(e.label){case 0:return Od.yt()?[4,Od.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(qp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Sb=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ry||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||jc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Ky(t,Qy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&jc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,_o.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Pc(Rc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new My(new Ly(o,new vg(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Nc.mG)(e,void 0,void 0,function(){var e,n;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return[4,Iy(t)];case 1:return e=r.sent(),[4,xy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Bc(t);return e.Or.delete(0),Hg(e)}(n))]}})})})}(av(Ky(this._delegate,sv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Nc.mG)(e,void 0,void 0,function(){var e,n;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return[4,Iy(t)];case 1:return e=r.sent(),[4,xy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Nc.mG)(this,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return(e=Bc(t)).Or.add(0),[4,zg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(av(Ky(this._delegate,sv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&By("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xd;return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(e,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(r){switch(r.label){case 0:return e=zm,[4,Ay(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(av(Ky(this._delegate,sv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new yy(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(n,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bc(t).Gr.add(e),e.next()},[4,ky(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(n,void 0,void 0,function(){var e;return(0,Nc.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bc(t).Gr.delete(e)},[4,ky(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(av(t=Ky(t,sv)),ov(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Pc(Rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Mb(this,tv(this._delegate,t))}catch(t){throw kb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Ab(this,ev(this._delegate,t))}catch(t){throw kb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Pb(this,function(t,e){if(t=Ky(t,Qy),qy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yy(t,null,function(t){return new th(el.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw kb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new xd;return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(n,void 0,void 0,function(){var n;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ey(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new by(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(av(t),function(n){return e(new vb(t,n))})}(this._delegate,function(n){return t(new Ib(e,n))})},t.prototype.batch=function(){var t=this;return av(this._delegate),new Cb(new hb(this._delegate,function(e){return mb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Pc(Rc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Pc(Rc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Nc.ZT)(e,t),e.prototype.convertBytes=function(t){return new _b(new fv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Ab.tu(e,this.firestore,null)},e}(ub),Ib=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Eb(t)}return t.prototype.get=function(t){var e=this,n=Ub(t);return this._delegate.get(n).then(function(t){return new Db(e._firestore,new zv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=Ub(t);return n?(Gy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ub(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Nc.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Ub(t);return this._delegate.delete(e),this},t}(),Cb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Ub(t);return n?(Gy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ub(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Nc.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=Ub(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),xb=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Zv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Rb(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Eb(e),n),i.set(n,o)),o},t}();xb.nu=new WeakMap;var Ab=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Eb(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Pc(Rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Jy(n._delegate,r,new ml(e)))},t.tu=function(e,n,r){return new t(n,new Jy(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Mb(this.firestore,tv(this._delegate,t))}catch(t){throw kb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,_o.m9)(t))instanceof Jy&&nv(this._delegate,t)},t.prototype.set=function(t,e){e=Gy("DocumentReference.set",e);try{return function(t,e,n){t=Ky(t,Jy);var r=Ky(t.firestore,sv),i=cb(t.converter,e,n);return mb(r,[Tv(_v(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ph.none())])}(this._delegate,t,e)}catch(t){throw kb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pb(this._delegate,t):pb.apply(void 0,(0,Nc.ev)([this._delegate,t,e],n))}catch(t){throw kb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return mb(Ky((t=this._delegate).firestore,sv),[new Wh(t._key,Ph.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ob(e),i=Nb(e,function(e){return new Db(t.firestore,new zv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return gb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ky(t,Jy);var e=Ky(t.firestore,sv),n=av(e),r=new db(e);return function(t,e){var n=this,r=new xd;return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(n,void 0,void 0,function(){var n;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i;return(0,Nc.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Bc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Pc(Rc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=mm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Cy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new zv(e,r,t._key,n,new Hv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ky(t,Jy);var e=Ky(t.firestore,sv);return Oy(av(e),t._key,{source:"server"}).then(function(n){return yb(e,t,n)})}(this._delegate):function(t){t=Ky(t,Jy);var e=Ky(t.firestore,sv);return Oy(av(e),t._key).then(function(n){return yb(e,t,n)})}(this._delegate)).then(function(t){return new Db(e.firestore,new zv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xb.eu(this.firestore,e):null))},t}();function kb(t,e,n){return t.message=t.message.replace(e,n),t}function Ob(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ov(r))return r}return{}}function Nb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ov(t[0])?t[0]:ov(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Db=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ab(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Wv(this._delegate,t._delegate)},t}(),Rb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nc.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Db),Pb=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Eb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Yv(this._delegate,function(t,e,n){var r=e,i=Bv("where",t);return new Xv(i,r,n)}(e,n,r)))}catch(e){throw kb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Yv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Bv("orderBy",t);return new tb(r,n)}(e,n)))}catch(e){throw kb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Yv(this._delegate,function(t){return $y("limit",t),new eb("limit",t,"F")}(e)))}catch(e){throw kb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Yv(this._delegate,function(t){return $y("limitToLast",t),new eb("limitToLast",t,"L")}(e)))}catch(e){throw kb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nb("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw kb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nb("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw kb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rb("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw kb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rb("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw kb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return rv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ky(t,Yy);var e=Ky(t.firestore,sv),n=av(e),r=new db(e);return function(t,e){var n=this,r=new xd;return t.asyncQueue.enqueueAndForget(function(){return(0,Nc.mG)(n,void 0,void 0,function(){var n;return(0,Nc.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Nc.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Nc.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ng(t,e,!0)];case 1:return a=u.sent(),r=new Dm(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=mm(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Cy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Kv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ky(t,Yy);var e=Ky(t.firestore,sv),n=av(e),r=new db(e);return Ny(n,t._query,{source:"server"}).then(function(n){return new Kv(e,r,t,n)})}(this._delegate):function(t){t=Ky(t,Yy);var e=Ky(t.firestore,sv),n=av(e),r=new db(e);return Qv(t._query),Ny(n,t._query).then(function(n){return new Kv(e,r,t,n)})}(this._delegate)).then(function(t){return new Fb(e.firestore,new Kv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ob(e),i=Nb(e,function(e){return new Fb(t.firestore,new Kv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return gb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xb.eu(this.firestore,e):null))},t}(),Lb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Rb(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Fb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Pb(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Rb(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Lb(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Rb(n._firestore,r))})},t.prototype.isEqual=function(t){return Wv(this._delegate,t._delegate)},t}(),Mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Nc.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Ab(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ab(this.firestore,void 0===t?ev(this._delegate):ev(this._delegate,t))}catch(t){throw kb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ky(t.firestore,sv),r=ev(t),i=cb(t.converter,e);return mb(n,[Tv(_v(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ph.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Ab(e.firestore,t)})},e.prototype.isEqual=function(t){return nv(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?xb.eu(this.firestore,t):null))},e}(Pb);function Ub(t){return Ky(t,Jy)}var jb,Vb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(hv.bind.apply(hv,(0,Nc.ev)([void 0],t)))}return t.documentId=function(){return new t(rl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,_o.m9)(t))instanceof hv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),qb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Iv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Sv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xv("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Av("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Gb=n(5119),Bb={Firestore:Sb,GeoPoint:pv,Timestamp:Wc,Blob:_b,Transaction:Ib,WriteBatch:Cb,DocumentReference:Ab,DocumentSnapshot:Db,Query:Pb,QueryDocumentSnapshot:Rb,QuerySnapshot:Fb,CollectionReference:Mb,FieldPath:Vb,FieldValue:qb,setLogLevel:function(t){Lc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Gb.wA("firestore",function(t){return function(t,e){return new Sb(t,new sv(t,e),new Tb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Bb)))})(jb=wo.Z),jb.registerVersion("@firebase/firestore","2.3.6");var Hb=n(1906),zb=n(8489),Zb=n(9291);class Kb extends vt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new $b(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new bt.N;if(this.isStopped||this.hasError?o=we.w.EMPTY:(this.observers.push(t),o=new Zb.W(this,t)),r&&t.add(t=new yo.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||zb.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class $b{constructor(t,e){this.time=t,this.value=e}}function Wb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Kb(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Qb(t,e){return e?qt(()=>t,e):qt(()=>t)}var Jb=n(4187);const Yb=new r.OlP("angularfire2.auth.use-emulator"),Xb=new r.OlP("angularfire2.auth.settings"),tw=new r.OlP("angularfire2.auth.tenant-id"),ew=new r.OlP("angularfire2.auth.langugage-code"),nw=new r.OlP("angularfire2.auth.use-device-language"),rw=new r.OlP("angularfire.auth.persistence");let iw=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new vo.HU(i),f=(0,vo.ss)(h),d=new vt.xQ,p=(0,yt.of)(void 0).pipe((0,yo.QV)(h.outsideAngular),qt(()=>i.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,jt.U)(()=>(0,vo.on)(t,i,e)),(0,jt.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,vo.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Wb({bufferSize:1,refCount:!1}));if(F(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,yt.of)(null);else{p.pipe(ye()).subscribe();const t=p.pipe(qt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Wb({bufferSize:1,refCount:!1})),e=t=>new xt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(qt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(qt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Qb(n),(0,Jb.R)(h.outsideAngular),(0,yo.QV)(h.insideAngular)),this.user=t.pipe(Qb(r),(0,Jb.R)(h.outsideAngular),(0,yo.QV)(h.insideAngular)),this.idToken=this.user.pipe(qt(t=>t?(0,mt.D)(t.getIdToken()):(0,yt.of)(null))),this.idTokenResult=this.user.pipe(qt(t=>t?(0,mt.D)(t.getIdTokenResult()):(0,yt.of)(null))),this.credential=(0,Hb.T)(t,d,this.authState.pipe(Yt(t=>!t))).pipe((0,jt.U)(t=>(null==t?void 0:t.user)?t:null),(0,Jb.R)(h.outsideAngular),(0,yo.QV)(h.insideAngular))}return(0,vo.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(vo.Dh),r.LFG(vo.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Yb,8),r.LFG(Xb,8),r.LFG(tw,8),r.LFG(ew,8),r.LFG(nw,8),r.LFG(rw,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(vo.Dh),r.LFG(vo.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Yb,8),r.LFG(Xb,8),r.LFG(tw,8),r.LFG(ew,8),r.LFG(nw,8),r.LFG(rw,8))},token:t,providedIn:"any"}),t})();function ow(t,e){return function(t,e=Li.z){return new xt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function sw(t,e){return ow(t,e).pipe((0,jt.U)(t=>({payload:t,type:"query"})))}function aw(t,e){return sw(t,e).pipe($t(void 0),ho(),(0,jt.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function uw(t,e,n){return aw(t,n).pipe(Wt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return cw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return cw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new go(void 0,void 0)),(0,jt.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function cw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function lw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(0,vo.GT)(iw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class hw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=aw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,jt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe($t(void 0),ho(),Yt(([t,e])=>e.length>0||!t),(0,jt.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Wt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=lw(t);return uw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return sw(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,mt.D)(this.query.get(t)).pipe((0,yo.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new fw(this.ref.doc(t),this.afs)}}class fw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=vw(n,e);return new hw(r,i,this.afs)}snapshotChanges(){return ow(this.ref,this.afs.schedulers.outsideAngular).pipe($t(void 0),ho(),(0,jt.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,jt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,mt.D)(this.ref.get(t)).pipe((0,yo.QV)(this.afs.schedulers.insideAngular))}}class dw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aw(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Yt(t=>t.length>0),this.afs.keepUnstableUntilFirst):aw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Wt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=lw(t);return uw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return sw(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,mt.D)(this.query.get(t)).pipe((0,yo.QV)(this.afs.schedulers.insideAngular))}}const pw=new r.OlP("angularfire2.enableFirestorePersistence"),gw=new r.OlP("angularfire2.firestore.persistenceSettings"),mw=new r.OlP("angularfire2.firestore.settings"),yw=new r.OlP("angularfire2.firestore.use-emulator");function vw(t,e=(t=>t)){return{query:e(t),ref:t}}let bw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new vo.HU(o),this.keepUnstableUntilFirst=(0,vo.ss)(this.schedulers);const c=(0,vo.on)(t,o,e);!bo.Z.auth&&u&&(0,vo.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,vo.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!F(i)){const e=()=>{try{return(0,mt.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(jb){return"undefined"!=typeof console&&console.warn(jb),(0,yt.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,yt.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=vw(n,e),o=this.schedulers.ngZone.run(()=>r);return new hw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new dw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new fw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(vo.Dh),r.LFG(vo.xv,8),r.LFG(pw,8),r.LFG(mw,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(gw,8),r.LFG(yw,8),r.LFG(Yb,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(vo.Dh),r.LFG(vo.xv,8),r.LFG(pw,8),r.LFG(mw,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(gw,8),r.LFG(yw,8),r.LFG(Yb,8))},token:t,providedIn:"any"}),t})(),ww=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:pw,useValue:!0},{provide:gw,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[bw]}),t})(),_w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[co]}),t.\u0275inj=r.cJS({providers:[],imports:[[gt,oo,lo,eo,ww]]}),t})();(0,r.G48)(),dt().bootstrapModule(_w).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},t=>{"use strict";t(t.s=6491)}]);